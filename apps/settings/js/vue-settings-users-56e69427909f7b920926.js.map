{"version":3,"sources":["webpack:///./apps/settings/src/components/UserList/UserRowSimple.vue?3b6d","webpack:///./apps/settings/src/components/UserList/UserRow.vue?5d7d","webpack:///./apps/settings/src/components/UserList.vue?0558","webpack:///./apps/settings/src/views/Users.vue?4b07","webpack:///./apps/settings/src/components/UserList/UserRowSimple.vue?bfe1","webpack:///./apps/settings/src/components/UserList/UserRowSimple.vue?4006","webpack:///./apps/settings/src/components/UserList/UserRow.vue?4259","webpack:///./apps/settings/src/components/UserList/UserRow.vue?3bd7","webpack:///./apps/settings/src/components/UserList.vue?89f1","webpack:///./apps/settings/src/components/UserList.vue?6acd","webpack:///./apps/settings/src/views/Users.vue?c8ea","webpack:///./apps/settings/src/views/Users.vue?487a","webpack:///./apps/settings/src/views/Users.vue?33a6","webpack:///./apps/settings/src/mixins/UserRowMixin.js","webpack:///./apps/settings/src/components/UserList/UserRowSimple.vue?6483","webpack:///apps/settings/src/components/UserList/UserRowSimple.vue","webpack:///./apps/settings/src/components/UserList/UserRowSimple.vue","webpack:///./apps/settings/src/components/UserList/UserRowSimple.vue?681a","webpack:///apps/settings/src/components/UserList/UserRow.vue","webpack:///./apps/settings/src/components/UserList/UserRow.vue?4147","webpack:///./apps/settings/src/components/UserList/UserRow.vue","webpack:///./apps/settings/src/components/UserList/UserRow.vue?55b0","webpack:///apps/settings/src/components/UserList.vue","webpack:///./apps/settings/src/components/UserList.vue?69dd","webpack:///./apps/settings/src/components/UserList.vue","webpack:///./apps/settings/src/components/UserList.vue?b1bd","webpack:///apps/settings/src/views/Users.vue","webpack:///./apps/settings/src/views/Users.vue?83c0","webpack:///./apps/settings/src/views/Users.vue"],"names":["content","module","i","locals","exports","add","default","___CSS_LOADER_API_IMPORT___","push","props","user","type","Object","required","settings","groups","Array","subAdminsGroups","quotaOptions","showConfig","languages","externalActions","computed","userGroups","this","filter","group","includes","id","userSubAdminsGroups","subadmin","availableGroups","map","groupClone","assign","$isDisabled","canAdd","canRemove","usedSpace","quota","used","t","size","OC","Util","humanFileSize","usedQuota","Math","min","round","pow","isNaN","userQuota","humanQuota","find","label","minPasswordLength","$store","getters","getPasswordPolicyMinLength","userLanguage","userLang","concat","lang","code","language","name","userLastLoginTooltip","lastLogin","formatDate","userLastLogin","relativeModifiedDate","methods","generateAvatar","generateUrl","version","oc_userconfig","avatar","_vm","_h","$createElement","_c","_self","staticClass","class","loading","delete","disable","attrs","staticStyle","domProps","selected","on","$event","toggleSelect","_v","wipe","_e","_s","directives","rawName","value","displayname","length","expression","userMainGroupsLabels","email","userGroupsLabels","isAdmin","userSubAdminsGroupsLabels","showUserBackend","showStoragePath","backend","storageLocation","modifiers","canEdit","all","toggleEdit","preventDefault","$emit","openedMenu","userActions","style","opacity","feedbackMessage","keys","editing","backendCapabilities","displayName","updateDisplayName","ref","rand","canChangePassword","setPassword","password","updatePassword","mailAddress","updateEmail","removeUserGroup","addUserGroup","createGroup","slot","subadmins","removeUserSubAdmin","addUserSubAdmin","setUserQuota","validateQuota","setUserLanguage","toggleMenu","hideMenu","onScroll","scrolled","showNewUserForm","createUser","newUser","newUserGenerateUserID","target","composing","$set","newUserRequireEmail","canAddGroups","model","callback","$$v","onClose","selectedUsers","selectedGroups","addUsersGroups","_l","key","u","toggleSelectedUsers","infiniteHandler","loadingAddGroup","toggleNewUserMenu","toggleAddGroupEntry","userCount","params","selectedGroup","adminGroupMenu","count","disabledGroupMenu","usercount","groupList","title","encodeURIComponent","removeGroup","defaultQuota","setDefaultQuota","isArray","showLanguages","_i","$$a","$$el","$$c","checked","$$i","slice","showLastLogin","loadingSendMail","sendWelcomeMail","users","selectedGroupDecoded","scopedSlots","_u","fn","proxy"],"mappings":"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","file":"vue-settings-users-56e69427909f7b920926.js?v=de598d6a43471cb0f7a2","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserRowSimple.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"2808c78e\", content, true, {});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserRow.vue?vue&type=style&index=0&id=2dad9f56&scoped=true&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"239746f6\", content, true, {});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserList.vue?vue&type=style&index=0&id=509f8bf8&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"2e14e411\", content, true, {});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=style&index=0&id=7f2af754&lang=scss&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"755ee9bd\", content, true, {});","import mod from \"-!../../../../../node_modules/vue-style-loader/index.js!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserRowSimple.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/vue-style-loader/index.js!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserRowSimple.vue?vue&type=style&index=0&lang=scss&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".cellText{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.icon-more{background-color:var(--color-main-background);border:0}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../../../../node_modules/vue-style-loader/index.js!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserRow.vue?vue&type=style&index=0&id=2dad9f56&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/vue-style-loader/index.js!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/sass-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserRow.vue?vue&type=style&index=0&id=2dad9f56&scoped=true&lang=scss&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".row--menu-opened[data-v-2dad9f56]{z-index:1 !important}.row[data-v-2dad9f56] .multiselect__single{z-index:auto !important}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserList.vue?vue&type=style&index=0&id=509f8bf8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserList.vue?vue&type=style&index=0&id=509f8bf8&scoped=true&lang=css&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"\\n.row[data-v-509f8bf8] .multiselect__single {\\n\\tz-index: auto !important;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=style&index=0&id=7f2af754&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=style&index=0&id=7f2af754&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#usergrouplist #addgroup[data-v-7f2af754] .app-navigation-entry__utils{display:none}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Content',{attrs:{\"app-name\":\"settings\",\"navigation-class\":{ 'icon-loading': _vm.loadingAddGroup }}},[_c('AppNavigation',[_c('AppNavigationNew',{attrs:{\"button-id\":\"new-user-button\",\"text\":_vm.t('settings','New user'),\"button-class\":\"icon-add\"},on:{\"click\":_vm.toggleNewUserMenu}}),_vm._v(\" \"),_c('ul',{attrs:{\"id\":\"usergrouplist\"}},[_c('AppNavigationItem',{ref:\"addGroup\",attrs:{\"id\":\"addgroup\",\"edit-placeholder\":_vm.t('settings', 'Enter group name'),\"editable\":true,\"loading\":_vm.loadingAddGroup,\"title\":_vm.t('settings', 'Add group'),\"icon\":\"icon-add\"},on:{\"click\":function($event){return _vm.toggleAddGroupEntry(true)},\"update:title\":_vm.createGroup}}),_vm._v(\" \"),_c('AppNavigationItem',{attrs:{\"id\":\"everyone\",\"exact\":true,\"title\":_vm.t('settings', 'Everyone'),\"to\":{ name: 'users' },\"icon\":\"icon-contacts-dark\"}},[(_vm.userCount > 0)?_c('AppNavigationCounter',{attrs:{\"slot\":\"counter\"},slot:\"counter\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.userCount)+\"\\n\\t\\t\\t\\t\")]):_vm._e()],1),_vm._v(\" \"),(_vm.settings.isAdmin)?_c('AppNavigationItem',{attrs:{\"id\":\"admin\",\"exact\":true,\"title\":_vm.t('settings', 'Admins'),\"to\":{ name: 'group', params: { selectedGroup: 'admin' } },\"icon\":\"icon-user-admin\"}},[(_vm.adminGroupMenu.count)?_c('AppNavigationCounter',{attrs:{\"slot\":\"counter\"},slot:\"counter\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.adminGroupMenu.count)+\"\\n\\t\\t\\t\\t\")]):_vm._e()],1):_vm._e(),_vm._v(\" \"),(_vm.disabledGroupMenu.usercount > 0 || _vm.disabledGroupMenu.usercount === -1)?_c('AppNavigationItem',{attrs:{\"id\":\"disabled\",\"exact\":true,\"title\":_vm.t('settings', 'Disabled users'),\"to\":{ name: 'group', params: { selectedGroup: 'disabled' } },\"icon\":\"icon-disabled-users\"}},[(_vm.disabledGroupMenu.usercount > 0)?_c('AppNavigationCounter',{attrs:{\"slot\":\"counter\"},slot:\"counter\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.disabledGroupMenu.usercount)+\"\\n\\t\\t\\t\\t\")]):_vm._e()],1):_vm._e(),_vm._v(\" \"),(_vm.groupList.length > 0)?_c('AppNavigationCaption',{attrs:{\"title\":_vm.t('settings', 'Groups')}}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.groupList),function(group){return _c('AppNavigationItem',{key:group.id,attrs:{\"exact\":true,\"title\":group.title,\"to\":{ name: 'group', params: { selectedGroup: encodeURIComponent(group.id) } }}},[(group.count)?_c('AppNavigationCounter',{attrs:{\"slot\":\"counter\"},slot:\"counter\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(group.count)+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('template',{slot:\"actions\"},[(!['admin', 'active', 'local', 'guest'].includes(group.id) && group.id !== 'disabled' && _vm.settings.isAdmin)?_c('ActionButton',{attrs:{\"icon\":\"icon-delete\"},on:{\"click\":function($event){return _vm.removeGroup(group.id)}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Remove group'))+\"\\n\\t\\t\\t\\t\\t\")]):_vm._e()],1)],2)})],2),_vm._v(\" \"),_c('AppNavigationSettings',[_c('div',[_c('p',[_vm._v(_vm._s(_vm.t('settings', 'Default quota:')))]),_vm._v(\" \"),_c('Multiselect',{attrs:{\"value\":_vm.defaultQuota,\"options\":_vm.quotaOptions,\"tag-placeholder\":\"create\",\"placeholder\":_vm.t('settings', 'Select default quota'),\"label\":\"label\",\"track-by\":\"id\",\"allow-empty\":false,\"taggable\":true},on:{\"tag\":_vm.validateQuota,\"input\":_vm.setDefaultQuota}})],1),_vm._v(\" \"),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.showLanguages),expression:\"showLanguages\"}],staticClass:\"checkbox\",attrs:{\"id\":\"showLanguages\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.showLanguages)?_vm._i(_vm.showLanguages,null)>-1:(_vm.showLanguages)},on:{\"change\":function($event){var $$a=_vm.showLanguages,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.showLanguages=$$a.concat([$$v]))}else{$$i>-1&&(_vm.showLanguages=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.showLanguages=$$c}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"showLanguages\"}},[_vm._v(_vm._s(_vm.t('settings', 'Show Languages')))])]),_vm._v(\" \"),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.showLastLogin),expression:\"showLastLogin\"}],staticClass:\"checkbox\",attrs:{\"id\":\"showLastLogin\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.showLastLogin)?_vm._i(_vm.showLastLogin,null)>-1:(_vm.showLastLogin)},on:{\"change\":function($event){var $$a=_vm.showLastLogin,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.showLastLogin=$$a.concat([$$v]))}else{$$i>-1&&(_vm.showLastLogin=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.showLastLogin=$$c}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"showLastLogin\"}},[_vm._v(_vm._s(_vm.t('settings', 'Show last login')))])]),_vm._v(\" \"),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.showUserBackend),expression:\"showUserBackend\"}],staticClass:\"checkbox\",attrs:{\"id\":\"showUserBackend\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.showUserBackend)?_vm._i(_vm.showUserBackend,null)>-1:(_vm.showUserBackend)},on:{\"change\":function($event){var $$a=_vm.showUserBackend,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.showUserBackend=$$a.concat([$$v]))}else{$$i>-1&&(_vm.showUserBackend=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.showUserBackend=$$c}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"showUserBackend\"}},[_vm._v(_vm._s(_vm.t('settings', 'Show user backend')))])]),_vm._v(\" \"),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.showStoragePath),expression:\"showStoragePath\"}],staticClass:\"checkbox\",attrs:{\"id\":\"showStoragePath\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.showStoragePath)?_vm._i(_vm.showStoragePath,null)>-1:(_vm.showStoragePath)},on:{\"change\":function($event){var $$a=_vm.showStoragePath,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.showStoragePath=$$a.concat([$$v]))}else{$$i>-1&&(_vm.showStoragePath=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.showStoragePath=$$c}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"showStoragePath\"}},[_vm._v(_vm._s(_vm.t('settings', 'Show storage path')))])]),_vm._v(\" \"),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sendWelcomeMail),expression:\"sendWelcomeMail\"}],staticClass:\"checkbox\",attrs:{\"id\":\"sendWelcomeMail\",\"disabled\":_vm.loadingSendMail,\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.sendWelcomeMail)?_vm._i(_vm.sendWelcomeMail,null)>-1:(_vm.sendWelcomeMail)},on:{\"change\":function($event){var $$a=_vm.sendWelcomeMail,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.sendWelcomeMail=$$a.concat([$$v]))}else{$$i>-1&&(_vm.sendWelcomeMail=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.sendWelcomeMail=$$c}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"sendWelcomeMail\"}},[_vm._v(_vm._s(_vm.t('settings', 'Send email to new user')))])])])],1),_vm._v(\" \"),_c('AppContent',[_c('UserList',{attrs:{\"users\":_vm.users,\"show-config\":_vm.showConfig,\"selected-group\":_vm.selectedGroupDecoded,\"external-actions\":_vm.externalActions},scopedSlots:_vm._u([{key:\"content\",fn:function(){return undefined},proxy:true}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @copyright Copyright (c) 2019 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nexport default {\n\tprops: {\n\t\tuser: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tsettings: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({}),\n\t\t},\n\t\tgroups: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [],\n\t\t},\n\t\tsubAdminsGroups: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [],\n\t\t},\n\t\tquotaOptions: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [],\n\t\t},\n\t\tshowConfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({}),\n\t\t},\n\t\tlanguages: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\texternalActions: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [],\n\t\t},\n\t},\n\tcomputed: {\n\t\t/* GROUPS MANAGEMENT */\n\t\tuserGroups() {\n\t\t\tconst userGroups = this.groups.filter(group => this.user.groups.includes(group.id))\n\t\t\treturn userGroups\n\t\t},\n\t\tuserSubAdminsGroups() {\n\t\t\tconst userSubAdminsGroups = this.subAdminsGroups.filter(group => this.user.subadmin.includes(group.id))\n\t\t\treturn userSubAdminsGroups\n\t\t},\n\t\tavailableGroups() {\n\t\t\treturn this.groups.map((group) => {\n\t\t\t\t// clone object because we don't want\n\t\t\t\t// to edit the original groups\n\t\t\t\tconst groupClone = Object.assign({}, group)\n\n\t\t\t\t// two settings here:\n\t\t\t\t// 1. user NOT in group but no permission to add\n\t\t\t\t// 2. user is in group but no permission to remove\n\t\t\t\tgroupClone.$isDisabled\n\t\t\t\t\t= (group.canAdd === false\n\t\t\t\t\t\t&& !this.user.groups.includes(group.id))\n\t\t\t\t\t|| (group.canRemove === false\n\t\t\t\t\t\t&& this.user.groups.includes(group.id))\n\t\t\t\treturn groupClone\n\t\t\t})\n\t\t},\n\n\t\t/* QUOTA MANAGEMENT */\n\t\tusedSpace() {\n\t\t\tif (this.user.quota.used) {\n\t\t\t\treturn t('settings', '{size} used', { size: OC.Util.humanFileSize(this.user.quota.used) })\n\t\t\t}\n\t\t\treturn t('settings', '{size} used', { size: OC.Util.humanFileSize(0) })\n\t\t},\n\t\tusedQuota() {\n\t\t\tlet quota = this.user.quota.quota\n\t\t\tif (quota > 0) {\n\t\t\t\tquota = Math.min(100, Math.round(this.user.quota.used / quota * 100))\n\t\t\t} else {\n\t\t\t\tconst usedInGB = this.user.quota.used / (10 * Math.pow(2, 30))\n\t\t\t\t// asymptotic curve approaching 50% at 10GB to visualize used stace with infinite quota\n\t\t\t\tquota = 95 * (1 - (1 / (usedInGB + 1)))\n\t\t\t}\n\t\t\treturn isNaN(quota) ? 0 : quota\n\t\t},\n\t\t// Mapping saved values to objects\n\t\tuserQuota() {\n\t\t\tif (this.user.quota.quota >= 0) {\n\t\t\t\t// if value is valid, let's map the quotaOptions or return custom quota\n\t\t\t\tconst humanQuota = OC.Util.humanFileSize(this.user.quota.quota)\n\t\t\t\tconst userQuota = this.quotaOptions.find(quota => quota.id === humanQuota)\n\t\t\t\treturn userQuota || { id: humanQuota, label: humanQuota }\n\t\t\t} else if (this.user.quota.quota === 'default') {\n\t\t\t\t// default quota is replaced by the proper value on load\n\t\t\t\treturn this.quotaOptions[0]\n\t\t\t}\n\t\t\treturn this.quotaOptions[1] // unlimited\n\t\t},\n\n\t\t/* PASSWORD POLICY? */\n\t\tminPasswordLength() {\n\t\t\treturn this.$store.getters.getPasswordPolicyMinLength\n\t\t},\n\n\t\t/* LANGUAGE */\n\t\tuserLanguage() {\n\t\t\tconst availableLanguages = this.languages[0].languages.concat(this.languages[1].languages)\n\t\t\tconst userLang = availableLanguages.find(lang => lang.code === this.user.language)\n\t\t\tif (typeof userLang !== 'object' && this.user.language !== '') {\n\t\t\t\treturn {\n\t\t\t\t\tcode: this.user.language,\n\t\t\t\t\tname: this.user.language,\n\t\t\t\t}\n\t\t\t} else if (this.user.language === '') {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn userLang\n\t\t},\n\n\t\t/* LAST LOGIN */\n\t\tuserLastLoginTooltip() {\n\t\t\tif (this.user.lastLogin > 0) {\n\t\t\t\treturn OC.Util.formatDate(this.user.lastLogin)\n\t\t\t}\n\t\t\treturn ''\n\t\t},\n\t\tuserLastLogin() {\n\t\t\tif (this.user.lastLogin > 0) {\n\t\t\t\treturn OC.Util.relativeModifiedDate(this.user.lastLogin)\n\t\t\t}\n\t\t\treturn t('settings', 'Never')\n\t\t},\n\t},\n\tmethods: {\n\t\t/**\n\t\t * Generate avatar url\n\t\t *\n\t\t * @param {string} user The user name\n\t\t * @param {int} size Size integer, default 32\n\t\t * @returns {string}\n\t\t */\n\t\tgenerateAvatar(user, size = 32) {\n\t\t\treturn OC.generateUrl(\n\t\t\t\t'/avatar/{user}/{size}?v={version}',\n\t\t\t\t{\n\t\t\t\t\tuser: user,\n\t\t\t\t\tsize: size,\n\t\t\t\t\tversion: oc_userconfig.avatar.version,\n\t\t\t\t}\n\t\t\t)\n\t\t},\n\t},\n}\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserRowSimple.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserRowSimple.vue?vue&type=script&lang=js&\"","<template>\n\t<div\n\t\tclass=\"row\"\n\t\t:class=\"{'disabled': loading.delete || loading.disable}\"\n\t\t:data-id=\"user.id\">\n\t\t<div class=\"selection\" style=\"padding: auto 10px;\">\n\t\t\t<input :id=\"'select-user-'+user.id\"\n\t\t\t\ttype=\"checkbox\"\n\t\t\t\tclass=\"checkbox\"\n\t\t\t\t:checked=\"selected\"\n\t\t\t\t@change=\"toggleSelect(user)\">\n\t\t\t<label :for=\"'select-user-'+user.id\">\n\t\t\t\t<span class=\"hidden-visually\">Select</span>\n\t\t\t</label>\n\t\t</div>\n\t\t<div class=\"avatar\" :class=\"{'icon-loading-small': loading.delete || loading.disable || loading.wipe}\">\n\t\t\t<img v-if=\"!loading.delete && !loading.disable && !loading.wipe\"\n\t\t\t\talt=\"\"\n\t\t\t\twidth=\"32\"\n\t\t\t\theight=\"32\"\n\t\t\t\t:src=\"generateAvatar(user.id, 32)\"\n\t\t\t\t:srcset=\"generateAvatar(user.id, 64)+' 2x, '+generateAvatar(user.id, 128)+' 4x'\">\n\t\t</div>\n\t\t<!-- dirty hack to ellipsis on two lines -->\n\t\t<div class=\"name\">\n\t\t\t{{ user.id }}\n\t\t\t<div class=\"displayName subtitle\">\n\t\t\t\t<div v-tooltip=\"user.displayname.length > 20 ? user.displayname : ''\" class=\"cellText\">\n\t\t\t\t\t{{ user.displayname }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"main-groups\">\n\t\t\t{{ userMainGroupsLabels }}\n\t\t</div>\n\t\t<div />\n\t\t<div class=\"mailAddress\">\n\t\t\t<div v-tooltip=\"user.email !== null && user.email.length > 20 ? user.email : ''\" class=\"cellText\">\n\t\t\t\t{{ user.email }}\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"groups\">\n\t\t\t{{ userGroupsLabels }}\n\t\t</div>\n\t\t<div v-if=\"subAdminsGroups.length > 0 && settings.isAdmin\" class=\"subAdminsGroups\">\n\t\t\t{{ userSubAdminsGroupsLabels }}\n\t\t</div>\n\t\t<div class=\"userQuota\">\n\t\t\t<div class=\"quota\">\n\t\t\t\t{{ userQuota }} ({{ usedSpace }})\n\t\t\t\t<progress\n\t\t\t\t\tclass=\"quota-user-progress\"\n\t\t\t\t\t:class=\"{'warn': usedQuota > 80}\"\n\t\t\t\t\t:value=\"usedQuota\"\n\t\t\t\t\tmax=\"100\" />\n\t\t\t</div>\n\t\t</div>\n\t\t<div v-if=\"showConfig.showLanguages\" class=\"languages\">\n\t\t\t{{ userLanguage.name }}\n\t\t</div>\n\t\t<div v-if=\"showConfig.showUserBackend || showConfig.showStoragePath\" class=\"userBackend\">\n\t\t\t<div v-if=\"showConfig.showUserBackend\" class=\"userBackend\">\n\t\t\t\t{{ user.backend }}\n\t\t\t</div>\n\t\t\t<div v-if=\"showConfig.showStoragePath\" v-tooltip=\"user.storageLocation\" class=\"storageLocation subtitle\">\n\t\t\t\t{{ user.storageLocation }}\n\t\t\t</div>\n\t\t</div>\n\t\t<div v-if=\"showConfig.showLastLogin\" v-tooltip.auto=\"userLastLoginTooltip\" class=\"lastLogin\">\n\t\t\t{{ userLastLogin }}\n\t\t</div>\n\n\t\t<div class=\"userActions\">\n\t\t\t<div v-if=\"canEdit && !loading.all\" class=\"toggleUserActions\">\n\t\t\t\t<Actions>\n\t\t\t\t\t<ActionButton icon=\"icon-rename\" @click=\"toggleEdit\">\n\t\t\t\t\t\t{{ t('settings', 'Edit User') }}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t</Actions>\n\t\t\t\t<div class=\"userPopoverMenuWrapper\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tv-click-outside=\"hideMenu\"\n\t\t\t\t\t\tclass=\"icon-more\"\n\t\t\t\t\t\t:aria-label=\"t('settings', 'Toggle user actions menu')\"\n\t\t\t\t\t\t@click.prevent=\"$emit('toggleMenu')\" />\n\t\t\t\t\t<div class=\"popovermenu\" :class=\"{ 'open': openedMenu }\" :aria-expanded=\"openedMenu\">\n\t\t\t\t\t\t<PopoverMenu :menu=\"userActions\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"feedback\" :style=\"{opacity: feedbackMessage !== '' ? 1 : 0}\">\n\t\t\t\t<div class=\"icon-checkmark\" />\n\t\t\t\t{{ feedbackMessage }}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { PopoverMenu, Actions, ActionButton } from '@nextcloud/vue'\nimport ClickOutside from 'vue-click-outside'\nimport { getCurrentUser } from '@nextcloud/auth'\nimport UserRowMixin from '../../mixins/UserRowMixin'\nexport default {\n\tname: 'UserRowSimple',\n\tcomponents: {\n\t\tPopoverMenu,\n\t\tActionButton,\n\t\tActions,\n\t},\n\tdirectives: {\n\t\tClickOutside,\n\t},\n\tmixins: [UserRowMixin],\n\tprops: {\n\t\tuser: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tloading: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tshowConfig: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tuserActions: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\topenedMenu: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t\tfeedbackMessage: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tsubAdminsGroups: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tsettings: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tselected: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tuserGroupsLabels() {\n\t\t\treturn this.userGroups\n\t\t\t\t.map(group => group.name)\n\t\t\t\t.join(', ')\n\t\t},\n\t\tuserMainGroupsLabels() {\n\t\t\treturn this.userGroups\n\t\t\t\t.map(g => g.name)\n\t\t\t\t.filter(g => ['active', 'guest', 'local'].includes(g))\n\t\t\t\t.join(', ')\n\t\t},\n\t\tuserSubAdminsGroupsLabels() {\n\t\t\treturn this.userSubAdminsGroups\n\t\t\t\t.map(group => group.name)\n\t\t\t\t.join(', ')\n\t\t},\n\t\tusedSpace() {\n\t\t\tif (this.user.quota.used) {\n\t\t\t\treturn t('settings', '{size} used', { size: OC.Util.humanFileSize(this.user.quota.used) })\n\t\t\t}\n\t\t\treturn t('settings', '{size} used', { size: OC.Util.humanFileSize(0) })\n\t\t},\n\t\tcanEdit() {\n\t\t\treturn getCurrentUser().uid !== this.user.id || this.settings.isAdmin\n\t\t},\n\t\tuserQuota() {\n\t\t\tif (this.user.quota.quota === 'none') {\n\t\t\t\treturn t('settings', 'Unlimited')\n\t\t\t}\n\t\t\tif (this.user.quota.quota >= 0) {\n\t\t\t\treturn OC.Util.humanFileSize(this.user.quota.quota)\n\t\t\t}\n\t\t\treturn OC.Util.humanFileSize(0)\n\t\t},\n\t},\n\tmethods: {\n\t\thideMenu() {\n\t\t\tthis.$emit('hideMenu')\n\t\t},\n\t\ttoggleEdit() {\n\t\t\tthis.$emit('update:editing', true)\n\t\t},\n\t\ttoggleSelect(user) {\n\t\t\tthis.$emit('toggleSelect', user)\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\">\n\t.cellText {\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t}\n\t.icon-more {\n\t\tbackground-color: var(--color-main-background);\n\t\tborder: 0;\n\t}\n</style>\n","import { render, staticRenderFns } from \"./UserRowSimple.vue?vue&type=template&id=5b867810&\"\nimport script from \"./UserRowSimple.vue?vue&type=script&lang=js&\"\nexport * from \"./UserRowSimple.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserRowSimple.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\",class:{'disabled': _vm.loading.delete || _vm.loading.disable},attrs:{\"data-id\":_vm.user.id}},[_c('div',{staticClass:\"selection\",staticStyle:{\"padding\":\"auto 10px\"}},[_c('input',{staticClass:\"checkbox\",attrs:{\"id\":'select-user-'+_vm.user.id,\"type\":\"checkbox\"},domProps:{\"checked\":_vm.selected},on:{\"change\":function($event){return _vm.toggleSelect(_vm.user)}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":'select-user-'+_vm.user.id}},[_c('span',{staticClass:\"hidden-visually\"},[_vm._v(\"Select\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"avatar\",class:{'icon-loading-small': _vm.loading.delete || _vm.loading.disable || _vm.loading.wipe}},[(!_vm.loading.delete && !_vm.loading.disable && !_vm.loading.wipe)?_c('img',{attrs:{\"alt\":\"\",\"width\":\"32\",\"height\":\"32\",\"src\":_vm.generateAvatar(_vm.user.id, 32),\"srcset\":_vm.generateAvatar(_vm.user.id, 64)+' 2x, '+_vm.generateAvatar(_vm.user.id, 128)+' 4x'}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"name\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.user.id)+\"\\n\\t\\t\"),_c('div',{staticClass:\"displayName subtitle\"},[_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.user.displayname.length > 20 ? _vm.user.displayname : ''),expression:\"user.displayname.length > 20 ? user.displayname : ''\"}],staticClass:\"cellText\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.user.displayname)+\"\\n\\t\\t\\t\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"main-groups\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.userMainGroupsLabels)+\"\\n\\t\")]),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div',{staticClass:\"mailAddress\"},[_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.user.email !== null && _vm.user.email.length > 20 ? _vm.user.email : ''),expression:\"user.email !== null && user.email.length > 20 ? user.email : ''\"}],staticClass:\"cellText\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.user.email)+\"\\n\\t\\t\")])]),_vm._v(\" \"),_c('div',{staticClass:\"groups\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.userGroupsLabels)+\"\\n\\t\")]),_vm._v(\" \"),(_vm.subAdminsGroups.length > 0 && _vm.settings.isAdmin)?_c('div',{staticClass:\"subAdminsGroups\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.userSubAdminsGroupsLabels)+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"userQuota\"},[_c('div',{staticClass:\"quota\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.userQuota)+\" (\"+_vm._s(_vm.usedSpace)+\")\\n\\t\\t\\t\"),_c('progress',{staticClass:\"quota-user-progress\",class:{'warn': _vm.usedQuota > 80},attrs:{\"max\":\"100\"},domProps:{\"value\":_vm.usedQuota}})])]),_vm._v(\" \"),(_vm.showConfig.showLanguages)?_c('div',{staticClass:\"languages\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.userLanguage.name)+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showUserBackend || _vm.showConfig.showStoragePath)?_c('div',{staticClass:\"userBackend\"},[(_vm.showConfig.showUserBackend)?_c('div',{staticClass:\"userBackend\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.user.backend)+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showStoragePath)?_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.user.storageLocation),expression:\"user.storageLocation\"}],staticClass:\"storageLocation subtitle\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.user.storageLocation)+\"\\n\\t\\t\")]):_vm._e()]):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showLastLogin)?_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.auto\",value:(_vm.userLastLoginTooltip),expression:\"userLastLoginTooltip\",modifiers:{\"auto\":true}}],staticClass:\"lastLogin\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.userLastLogin)+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"userActions\"},[(_vm.canEdit && !_vm.loading.all)?_c('div',{staticClass:\"toggleUserActions\"},[_c('Actions',[_c('ActionButton',{attrs:{\"icon\":\"icon-rename\"},on:{\"click\":_vm.toggleEdit}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Edit User'))+\"\\n\\t\\t\\t\\t\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"userPopoverMenuWrapper\"},[_c('button',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.hideMenu),expression:\"hideMenu\"}],staticClass:\"icon-more\",attrs:{\"aria-label\":_vm.t('settings', 'Toggle user actions menu')},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('toggleMenu')}}}),_vm._v(\" \"),_c('div',{staticClass:\"popovermenu\",class:{ 'open': _vm.openedMenu },attrs:{\"aria-expanded\":_vm.openedMenu}},[_c('PopoverMenu',{attrs:{\"menu\":_vm.userActions}})],1)])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"feedback\",style:({opacity: _vm.feedbackMessage !== '' ? 1 : 0})},[_c('div',{staticClass:\"icon-checkmark\"}),_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.feedbackMessage)+\"\\n\\t\\t\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2018 John Molakvoæ <skjnldsv@protonmail.com>\n  - @copyright Copyright (c) 2019 Gary Kim <gary@garykim.dev>\n  -\n  - @author John Molakvoæ <skjnldsv@protonmail.com>\n  - @author Gary Kim <gary@garykim.dev>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<!-- Obfuscated user: Logged in user does not have permissions to see all of the data -->\n\t<div v-if=\"Object.keys(user).length ===1\" :data-id=\"user.id\" class=\"row\">\n\t\t<div :class=\"{'icon-loading-small': loading.delete || loading.disable || loading.wipe}\"\n\t\t\tclass=\"avatar\">\n\t\t\t<img v-if=\"!loading.delete && !loading.disable && !loading.wipe\"\n\t\t\t\t:src=\"generateAvatar(user.id, 32)\"\n\t\t\t\t:srcset=\"generateAvatar(user.id, 64)+' 2x, '+generateAvatar(user.id, 128)+' 4x'\"\n\t\t\t\talt=\"\"\n\t\t\t\theight=\"32\"\n\t\t\t\twidth=\"32\">\n\t\t</div>\n\t\t<div class=\"name\">\n\t\t\t{{ user.id }}\n\t\t</div>\n\t\t<div class=\"obfuscated\">\n\t\t\t{{ t('settings','You do not have permissions to see the details of this user') }}\n\t\t</div>\n\t</div>\n\n\t<!-- User full data -->\n\t<UserRowSimple\n\t\tv-else-if=\"!editing\"\n\t\t:editing.sync=\"editing\"\n\t\t:feedback-message=\"feedbackMessage\"\n\t\t:groups=\"groups\"\n\t\t:languages=\"languages\"\n\t\t:loading=\"loading\"\n\t\t:opened-menu=\"openedMenu\"\n\t\t:settings=\"settings\"\n\t\t:show-config=\"showConfig\"\n\t\t:sub-admins-groups=\"subAdminsGroups\"\n\t\t:user-actions=\"userActions\"\n\t\t:user=\"user\"\n\t\t:class=\"{'row--menu-opened': openedMenu}\"\n\t\t:selected=\"selected\"\n\t\t@hideMenu=\"hideMenu\"\n\t\t@toggleMenu=\"toggleMenu\"\n\t\t@toggleSelect=\"toggleSelect\" />\n\t<div v-else\n\t\t:class=\"{\n\t\t\t'disabled': loading.delete || loading.disable,\n\t\t\t'row--menu-opened': openedMenu\n\t\t}\"\n\t\t:data-id=\"user.id\"\n\t\tclass=\"row row--editable\">\n\t\t<div />\n\t\t<div :class=\"{'icon-loading-small': loading.delete || loading.disable || loading.wipe}\"\n\t\t\tclass=\"avatar\">\n\t\t\t<img v-if=\"!loading.delete && !loading.disable && !loading.wipe\"\n\t\t\t\t:src=\"generateAvatar(user.id, 32)\"\n\t\t\t\t:srcset=\"generateAvatar(user.id, 64)+' 2x, '+generateAvatar(user.id, 128)+' 4x'\"\n\t\t\t\talt=\"\"\n\t\t\t\theight=\"32\"\n\t\t\t\twidth=\"32\">\n\t\t</div>\n\t\t<!-- dirty hack to ellipsis on two lines -->\n\t\t<div v-if=\"user.backendCapabilities.setDisplayName\" class=\"displayName\">\n\t\t\t<form\n\t\t\t\t:class=\"{'icon-loading-small': loading.displayName}\"\n\t\t\t\tclass=\"displayName\"\n\t\t\t\t@submit.prevent=\"updateDisplayName\">\n\t\t\t\t<input\n\t\t\t\t\t:id=\"'displayName'+user.id+rand\"\n\t\t\t\t\tref=\"displayName\"\n\t\t\t\t\t:disabled=\"loading.displayName||loading.all\"\n\t\t\t\t\t:value=\"user.displayname\"\n\t\t\t\t\tautocapitalize=\"off\"\n\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\tautocorrect=\"off\"\n\t\t\t\t\tspellcheck=\"false\"\n\t\t\t\t\ttype=\"text\">\n\t\t\t\t<input\n\t\t\t\t\tclass=\"icon-confirm\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tvalue=\"\">\n\t\t\t</form>\n\t\t</div>\n\t\t<div v-else class=\"name\">\n\t\t\t{{ user.id }}\n\t\t\t<div class=\"displayName subtitle\">\n\t\t\t\t<div v-tooltip=\"user.displayname.length > 20 ? user.displayname : ''\" class=\"cellText\">\n\t\t\t\t\t{{ user.displayname }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div />\n\t\t<form v-if=\"settings.canChangePassword && user.backendCapabilities.setPassword\"\n\t\t\t:class=\"{'icon-loading-small': loading.password}\"\n\t\t\tclass=\"password\"\n\t\t\t@submit.prevent=\"updatePassword\">\n\t\t\t<input :id=\"'password'+user.id+rand\"\n\t\t\t\tref=\"password\"\n\t\t\t\t:disabled=\"loading.password || loading.all\"\n\t\t\t\t:minlength=\"minPasswordLength\"\n\t\t\t\t:placeholder=\"t('settings', 'Add new password')\"\n\t\t\t\tautocapitalize=\"off\"\n\t\t\t\tautocomplete=\"new-password\"\n\t\t\t\tautocorrect=\"off\"\n\t\t\t\trequired\n\t\t\t\tspellcheck=\"false\"\n\t\t\t\ttype=\"password\"\n\t\t\t\tvalue=\"\">\n\t\t\t<input class=\"icon-confirm\" type=\"submit\" value=\"\">\n\t\t</form>\n\t\t<div v-else />\n\t\t<form :class=\"{'icon-loading-small': loading.mailAddress}\"\n\t\t\tclass=\"mailAddress\"\n\t\t\t@submit.prevent=\"updateEmail\">\n\t\t\t<input :id=\"'mailAddress'+user.id+rand\"\n\t\t\t\tref=\"mailAddress\"\n\t\t\t\t:disabled=\"loading.mailAddress||loading.all\"\n\t\t\t\t:placeholder=\"t('settings', 'Add new email address')\"\n\t\t\t\t:value=\"user.email\"\n\t\t\t\tautocapitalize=\"off\"\n\t\t\t\tautocomplete=\"new-password\"\n\t\t\t\tautocorrect=\"off\"\n\t\t\t\tspellcheck=\"false\"\n\t\t\t\ttype=\"email\">\n\t\t\t<input class=\"icon-confirm\" type=\"submit\" value=\"\">\n\t\t</form>\n\t\t<div :class=\"{'icon-loading-small': loading.groups}\" class=\"groups\">\n\t\t\t<Multiselect :close-on-select=\"false\"\n\t\t\t\t:disabled=\"loading.groups||loading.all\"\n\t\t\t\t:limit=\"2\"\n\t\t\t\t:multiple=\"true\"\n\t\t\t\t:options=\"availableGroups\"\n\t\t\t\t:placeholder=\"t('settings', 'Add user in group')\"\n\t\t\t\t:tag-width=\"60\"\n\t\t\t\t:taggable=\"settings.isAdmin\"\n\t\t\t\t:value=\"userGroups\"\n\t\t\t\tclass=\"multiselect-vue\"\n\t\t\t\tlabel=\"name\"\n\t\t\t\ttag-placeholder=\"create\"\n\t\t\t\ttrack-by=\"id\"\n\t\t\t\t@remove=\"removeUserGroup\"\n\t\t\t\t@select=\"addUserGroup\"\n\t\t\t\t@tag=\"createGroup\">\n\t\t\t\t<span slot=\"noResult\">{{ t('settings', 'No results') }}</span>\n\t\t\t</Multiselect>\n\t\t</div>\n\t\t<div v-if=\"subAdminsGroups.length>0 && settings.isAdmin\"\n\t\t\t:class=\"{'icon-loading-small': loading.subadmins}\"\n\t\t\tclass=\"subadmins\">\n\t\t\t<Multiselect :close-on-select=\"false\"\n\t\t\t\t:disabled=\"loading.subadmins||loading.all\"\n\t\t\t\t:limit=\"2\"\n\t\t\t\t:multiple=\"true\"\n\t\t\t\t:options=\"subAdminsGroups\"\n\t\t\t\t:placeholder=\"t('settings', 'Set user as admin for')\"\n\t\t\t\t:tag-width=\"60\"\n\t\t\t\t:value=\"userSubAdminsGroups\"\n\t\t\t\tclass=\"multiselect-vue\"\n\t\t\t\tlabel=\"name\"\n\t\t\t\ttrack-by=\"id\"\n\t\t\t\t@remove=\"removeUserSubAdmin\"\n\t\t\t\t@select=\"addUserSubAdmin\">\n\t\t\t\t<span slot=\"noResult\">{{ t('settings', 'No results') }}</span>\n\t\t\t</Multiselect>\n\t\t</div>\n\t\t<div v-tooltip.auto=\"usedSpace\"\n\t\t\t:class=\"{'icon-loading-small': loading.quota}\"\n\t\t\tclass=\"quota\">\n\t\t\t<Multiselect :allow-empty=\"false\"\n\t\t\t\t:disabled=\"loading.quota||loading.all\"\n\t\t\t\t:options=\"quotaOptions\"\n\t\t\t\t:placeholder=\"t('settings', 'Select user quota')\"\n\t\t\t\t:taggable=\"true\"\n\t\t\t\t:value=\"userQuota\"\n\t\t\t\tclass=\"multiselect-vue\"\n\t\t\t\tlabel=\"label\"\n\t\t\t\ttag-placeholder=\"create\"\n\t\t\t\ttrack-by=\"id\"\n\t\t\t\t@input=\"setUserQuota\"\n\t\t\t\t@tag=\"validateQuota\" />\n\t\t</div>\n\t\t<div v-if=\"showConfig.showLanguages\"\n\t\t\t:class=\"{'icon-loading-small': loading.languages}\"\n\t\t\tclass=\"languages\">\n\t\t\t<Multiselect :allow-empty=\"false\"\n\t\t\t\t:disabled=\"loading.languages||loading.all\"\n\t\t\t\t:options=\"languages\"\n\t\t\t\t:placeholder=\"t('settings', 'No language set')\"\n\t\t\t\t:value=\"userLanguage\"\n\t\t\t\tclass=\"multiselect-vue\"\n\t\t\t\tgroup-label=\"label\"\n\t\t\t\tgroup-values=\"languages\"\n\t\t\t\tlabel=\"name\"\n\t\t\t\ttrack-by=\"code\"\n\t\t\t\t@input=\"setUserLanguage\" />\n\t\t</div>\n\n\t\t<!-- don't show this on edit mode -->\n\t\t<div v-if=\"showConfig.showStoragePath || showConfig.showUserBackend\"\n\t\t\tclass=\"storageLocation\" />\n\t\t<div v-if=\"showConfig.showLastLogin\" />\n\n\t\t<div class=\"userActions\">\n\t\t\t<div v-if=\"!loading.all\"\n\t\t\t\tclass=\"toggleUserActions\">\n\t\t\t\t<Actions>\n\t\t\t\t\t<ActionButton icon=\"icon-checkmark\"\n\t\t\t\t\t\t@click=\"editing = false\">\n\t\t\t\t\t\t{{ t('settings', 'Done') }}\n\t\t\t\t\t</ActionButton>\n\t\t\t\t</Actions>\n\t\t\t\t<div v-click-outside=\"hideMenu\" class=\"userPopoverMenuWrapper\">\n\t\t\t\t\t<div class=\"icon-more\"\n\t\t\t\t\t\t@click=\"toggleMenu\" />\n\t\t\t\t\t<div :class=\"{ 'open': openedMenu }\" class=\"popovermenu\">\n\t\t\t\t\t\t<PopoverMenu :menu=\"userActions\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div :style=\"{opacity: feedbackMessage !== '' ? 1 : 0}\"\n\t\t\t\tclass=\"feedback\">\n\t\t\t\t<div class=\"icon-checkmark\" />\n\t\t\t\t{{ feedbackMessage }}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport ClickOutside from 'vue-click-outside'\nimport Vue from 'vue'\nimport VTooltip from 'v-tooltip'\nimport {\n\tPopoverMenu,\n\tMultiselect,\n\tActions,\n\tActionButton,\n} from '@nextcloud/vue'\nimport UserRowSimple from './UserRowSimple'\nimport UserRowMixin from '../../mixins/UserRowMixin'\n\nVue.use(VTooltip)\n\nexport default {\n\tname: 'UserRow',\n\tcomponents: {\n\t\tUserRowSimple,\n\t\tPopoverMenu,\n\t\tActions,\n\t\tActionButton,\n\t\tMultiselect,\n\t},\n\tdirectives: {\n\t\tClickOutside,\n\t},\n\tmixins: [UserRowMixin],\n\tprops: {\n\t\tuser: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tsettings: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({}),\n\t\t},\n\t\tgroups: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [],\n\t\t},\n\t\tsubAdminsGroups: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [],\n\t\t},\n\t\tquotaOptions: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [],\n\t\t},\n\t\tshowConfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({}),\n\t\t},\n\t\tlanguages: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\texternalActions: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [],\n\t\t},\n\t\tselected: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\trand: parseInt(Math.random() * 1000),\n\t\t\topenedMenu: false,\n\t\t\tfeedbackMessage: '',\n\t\t\tediting: false,\n\t\t\tloading: {\n\t\t\t\tall: false,\n\t\t\t\tdisplayName: false,\n\t\t\t\tpassword: false,\n\t\t\t\tmailAddress: false,\n\t\t\t\tgroups: false,\n\t\t\t\tsubadmins: false,\n\t\t\t\tquota: false,\n\t\t\t\tdelete: false,\n\t\t\t\tdisable: false,\n\t\t\t\tlanguages: false,\n\t\t\t\twipe: false,\n\t\t\t},\n\t\t}\n\t},\n\tcomputed: {\n\t\t/* USER POPOVERMENU ACTIONS */\n\t\tuserActions() {\n\t\t\tconst actions = [\n\t\t\t\t{\n\t\t\t\t\ticon: 'icon-delete',\n\t\t\t\t\ttext: t('settings', 'Delete user'),\n\t\t\t\t\taction: this.deleteUser,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: 'icon-delete',\n\t\t\t\t\ttext: t('settings', 'Wipe all devices'),\n\t\t\t\t\taction: this.wipeUserDevices,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: this.user.enabled ? 'icon-close' : 'icon-add',\n\t\t\t\t\ttext: this.user.enabled ? t('settings', 'Disable user') : t('settings', 'Enable user'),\n\t\t\t\t\taction: this.enableDisableUser,\n\t\t\t\t},\n\t\t\t]\n\t\t\tif (this.user.email !== null && this.user.email !== '') {\n\t\t\t\tactions.push({\n\t\t\t\t\ticon: 'icon-mail',\n\t\t\t\t\ttext: t('settings', 'Resend welcome email'),\n\t\t\t\t\taction: this.sendWelcomeMail,\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn actions.concat(this.externalActions)\n\t\t},\n\t},\n\n\tmethods: {\n\t\t/* MENU HANDLING */\n\t\ttoggleMenu() {\n\t\t\tthis.openedMenu = !this.openedMenu\n\t\t},\n\t\thideMenu() {\n\t\t\tthis.openedMenu = false\n\t\t},\n\n\t\twipeUserDevices() {\n\t\t\tconst userid = this.user.id\n\t\t\tOC.dialogs.confirmDestructive(\n\t\t\t\tt('settings', 'In case of lost device or exiting the organization, this can remotely wipe the Nextcloud data from all devices associated with {userid}. Only works if the devices are connected to the internet.', { userid: userid }),\n\t\t\t\tt('settings', 'Remote wipe of devices'),\n\t\t\t\t{\n\t\t\t\t\ttype: OC.dialogs.YES_NO_BUTTONS,\n\t\t\t\t\tconfirm: t('settings', 'Wipe {userid}\\'s devices', { userid: userid }),\n\t\t\t\t\tconfirmClasses: 'error',\n\t\t\t\t\tcancel: t('settings', 'Cancel'),\n\t\t\t\t},\n\t\t\t\t(result) => {\n\t\t\t\t\tif (result) {\n\t\t\t\t\t\tthis.loading.wipe = true\n\t\t\t\t\t\tthis.loading.all = true\n\t\t\t\t\t\tthis.$store.dispatch('wipeUserDevices', userid)\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\tthis.loading.wipe = false\n\t\t\t\t\t\t\t\tthis.loading.all = false\n\t\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttrue\n\t\t\t)\n\t\t},\n\n\t\tdeleteUser() {\n\t\t\tconst userid = this.user.id\n\t\t\tOC.dialogs.confirmDestructive(\n\t\t\t\tt('settings', 'Fully delete {userid}\\'s account including all their personal files, app data, etc.', { userid: userid }),\n\t\t\t\tt('settings', 'Account deletion'),\n\t\t\t\t{\n\t\t\t\t\ttype: OC.dialogs.YES_NO_BUTTONS,\n\t\t\t\t\tconfirm: t('settings', 'Delete {userid}\\'s account', { userid: userid }),\n\t\t\t\t\tconfirmClasses: 'error',\n\t\t\t\t\tcancel: t('settings', 'Cancel'),\n\t\t\t\t},\n\t\t\t\t(result) => {\n\t\t\t\t\tif (result) {\n\t\t\t\t\t\tthis.loading.delete = true\n\t\t\t\t\t\tthis.loading.all = true\n\t\t\t\t\t\treturn this.$store.dispatch('deleteUser', userid)\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\tthis.loading.delete = false\n\t\t\t\t\t\t\t\tthis.loading.all = false\n\t\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttrue\n\t\t\t)\n\t\t},\n\n\t\tenableDisableUser() {\n\t\t\tthis.loading.delete = true\n\t\t\tthis.loading.all = true\n\t\t\tconst userid = this.user.id\n\t\t\tconst enabled = !this.user.enabled\n\t\t\treturn this.$store.dispatch('enableDisableUser', {\n\t\t\t\tuserid,\n\t\t\t\tenabled,\n\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.loading.delete = false\n\t\t\t\t\tthis.loading.all = false\n\t\t\t\t})\n\t\t},\n\n\t\t/**\n\t\t\t * Set user displayName\n\t\t\t *\n\t\t\t * @param {string} displayName The display name\n\t\t\t */\n\t\tupdateDisplayName() {\n\t\t\tconst displayName = this.$refs.displayName.value\n\t\t\tthis.loading.displayName = true\n\t\t\tthis.$store.dispatch('setUserData', {\n\t\t\t\tuserid: this.user.id,\n\t\t\t\tkey: 'displayname',\n\t\t\t\tvalue: displayName,\n\t\t\t}).then(() => {\n\t\t\t\tthis.loading.displayName = false\n\t\t\t\tthis.$refs.displayName.value = displayName\n\t\t\t})\n\t\t},\n\n\t\t/**\n\t\t\t * Set user password\n\t\t\t *\n\t\t\t * @param {string} password The email adress\n\t\t\t */\n\t\tupdatePassword() {\n\t\t\tconst password = this.$refs.password.value\n\t\t\tthis.loading.password = true\n\t\t\tthis.$store.dispatch('setUserData', {\n\t\t\t\tuserid: this.user.id,\n\t\t\t\tkey: 'password',\n\t\t\t\tvalue: password,\n\t\t\t}).then(() => {\n\t\t\t\tthis.loading.password = false\n\t\t\t\tthis.$refs.password.value = '' // empty & show placeholder\n\t\t\t})\n\t\t},\n\n\t\t/**\n\t\t\t * Set user mailAddress\n\t\t\t *\n\t\t\t * @param {string} mailAddress The email adress\n\t\t\t */\n\t\tupdateEmail() {\n\t\t\tconst mailAddress = this.$refs.mailAddress.value\n\t\t\tthis.loading.mailAddress = true\n\t\t\tthis.$store.dispatch('setUserData', {\n\t\t\t\tuserid: this.user.id,\n\t\t\t\tkey: 'email',\n\t\t\t\tvalue: mailAddress,\n\t\t\t}).then(() => {\n\t\t\t\tthis.loading.mailAddress = false\n\t\t\t\tthis.$refs.mailAddress.value = mailAddress\n\t\t\t})\n\t\t},\n\n\t\t/**\n\t\t\t * Create a new group and add user to it\n\t\t\t *\n\t\t\t * @param {string} gid Group id\n\t\t\t */\n\t\tasync createGroup(gid) {\n\t\t\tthis.loading = { groups: true, subadmins: true }\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('addGroup', gid)\n\t\t\t\tconst userid = this.user.id\n\t\t\t\tawait this.$store.dispatch('addUserGroup', { userid, gid })\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error)\n\t\t\t} finally {\n\t\t\t\tthis.loading = { groups: false, subadmins: false }\n\t\t\t}\n\t\t\treturn this.$store.getters.getGroups[this.groups.length]\n\t\t},\n\n\t\t/**\n\t\t\t * Add user to group\n\t\t\t *\n\t\t\t * @param {object} group Group object\n\t\t\t */\n\t\tasync addUserGroup(group) {\n\t\t\tif (group.canAdd === false) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tthis.loading.groups = true\n\t\t\tconst userid = this.user.id\n\t\t\tconst gid = group.id\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('addUserGroup', { userid, gid })\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error)\n\t\t\t} finally {\n\t\t\t\tthis.loading.groups = false\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t\t * Remove user from group\n\t\t\t *\n\t\t\t * @param {object} group Group object\n\t\t\t */\n\t\tasync removeUserGroup(group) {\n\t\t\tif (group.canRemove === false) {\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tthis.loading.groups = true\n\t\t\tconst userid = this.user.id\n\t\t\tconst gid = group.id\n\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('removeUserGroup', {\n\t\t\t\t\tuserid,\n\t\t\t\t\tgid,\n\t\t\t\t})\n\t\t\t\tthis.loading.groups = false\n\t\t\t\t// remove user from current list if current list is the removed group\n\t\t\t\tif (this.$route.params.selectedGroup === gid) {\n\t\t\t\t\tthis.$store.commit('deleteUser', userid)\n\t\t\t\t}\n\t\t\t} catch {\n\t\t\t\tthis.loading.groups = false\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t\t * Add user to group\n\t\t\t *\n\t\t\t * @param {object} group Group object\n\t\t\t */\n\t\tasync addUserSubAdmin(group) {\n\t\t\tthis.loading.subadmins = true\n\t\t\tconst userid = this.user.id\n\t\t\tconst gid = group.id\n\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('addUserSubAdmin', {\n\t\t\t\t\tuserid,\n\t\t\t\t\tgid,\n\t\t\t\t})\n\t\t\t\tthis.loading.subadmins = false\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error)\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t\t * Remove user from group\n\t\t\t *\n\t\t\t * @param {object} group Group object\n\t\t\t */\n\t\tasync removeUserSubAdmin(group) {\n\t\t\tthis.loading.subadmins = true\n\t\t\tconst userid = this.user.id\n\t\t\tconst gid = group.id\n\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('removeUserSubAdmin', {\n\t\t\t\t\tuserid,\n\t\t\t\t\tgid,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error)\n\t\t\t} finally {\n\t\t\t\tthis.loading.subadmins = false\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t\t * Dispatch quota set request\n\t\t\t *\n\t\t\t * @param {string|Object} quota Quota in readable format '5 GB' or Object {id: '5 GB', label: '5GB'}\n\t\t\t * @returns {string}\n\t\t\t */\n\t\tasync setUserQuota(quota = 'none') {\n\t\t\tthis.loading.quota = true\n\t\t\t// ensure we only send the preset id\n\t\t\tquota = quota.id ? quota.id : quota\n\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('setUserData', {\n\t\t\t\t\tuserid: this.user.id,\n\t\t\t\t\tkey: 'quota',\n\t\t\t\t\tvalue: quota,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error)\n\t\t\t} finally {\n\t\t\t\tthis.loading.quota = false\n\t\t\t}\n\t\t\treturn quota\n\t\t},\n\n\t\t/**\n\t\t\t * Validate quota string to make sure it's a valid human file size\n\t\t\t *\n\t\t\t * @param {string} quota Quota in readable format '5 GB'\n\t\t\t * @returns {Promise|boolean}\n\t\t\t */\n\t\tvalidateQuota(quota) {\n\t\t\t// only used for new presets sent through @Tag\n\t\t\tconst validQuota = OC.Util.computerFileSize(quota)\n\t\t\tif (validQuota !== null && validQuota >= 0) {\n\t\t\t\t// unify format output\n\t\t\t\treturn this.setUserQuota(OC.Util.humanFileSize(OC.Util.computerFileSize(quota)))\n\t\t\t}\n\t\t\t// if no valid do not change\n\t\t\treturn false\n\t\t},\n\n\t\t/**\n\t\t\t * Dispatch language set request\n\t\t\t *\n\t\t\t * @param {Object} lang language object {code:'en', name:'English'}\n\t\t\t * @returns {Object}\n\t\t\t */\n\t\tasync setUserLanguage(lang) {\n\t\t\tthis.loading.languages = true\n\t\t\t// ensure we only send the preset id\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('setUserData', {\n\t\t\t\t\tuserid: this.user.id,\n\t\t\t\t\tkey: 'language',\n\t\t\t\t\tvalue: lang.code,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error)\n\t\t\t} finally {\n\t\t\t\tthis.loading.languages = false\n\t\t\t}\n\t\t\treturn lang\n\t\t},\n\n\t\t/**\n\t\t\t * Dispatch new welcome mail request\n\t\t\t */\n\t\tsendWelcomeMail() {\n\t\t\tthis.loading.all = true\n\t\t\tthis.$store.dispatch('sendWelcomeMail', this.user.id)\n\t\t\t\t.then(success => {\n\t\t\t\t\tif (success) {\n\t\t\t\t\t\t// Show feedback to indicate the success\n\t\t\t\t\t\tthis.feedbackMessage = t('setting', 'Welcome mail sent!')\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.feedbackMessage = ''\n\t\t\t\t\t\t}, 2000)\n\t\t\t\t\t}\n\t\t\t\t\tthis.loading.all = false\n\t\t\t\t})\n\t\t},\n\n\t\t/**\n\t\t * SELECT HANDLING\n\t\t * @param {Object} user Selected user info\n\t\t */\n\t\ttoggleSelect(user) {\n\t\t\tthis.$emit('toggleSelect', user)\n\t\t},\n\n\t},\n}\n</script>\n<style scoped lang=\"scss\">\n\t// Force menu to be above other rows\n\t.row--menu-opened {\n\t\tz-index: 1 !important;\n\t}\n\t.row::v-deep .multiselect__single {\n\t\tz-index: auto !important;\n\t}\n</style>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserRow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserRow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserRow.vue?vue&type=template&id=2dad9f56&scoped=true&\"\nimport script from \"./UserRow.vue?vue&type=script&lang=js&\"\nexport * from \"./UserRow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserRow.vue?vue&type=style&index=0&id=2dad9f56&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2dad9f56\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (Object.keys(_vm.user).length ===1)?_c('div',{staticClass:\"row\",attrs:{\"data-id\":_vm.user.id}},[_c('div',{staticClass:\"avatar\",class:{'icon-loading-small': _vm.loading.delete || _vm.loading.disable || _vm.loading.wipe}},[(!_vm.loading.delete && !_vm.loading.disable && !_vm.loading.wipe)?_c('img',{attrs:{\"src\":_vm.generateAvatar(_vm.user.id, 32),\"srcset\":_vm.generateAvatar(_vm.user.id, 64)+' 2x, '+_vm.generateAvatar(_vm.user.id, 128)+' 4x',\"alt\":\"\",\"height\":\"32\",\"width\":\"32\"}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"name\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.user.id)+\"\\n\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"obfuscated\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('settings','You do not have permissions to see the details of this user'))+\"\\n\\t\")])]):(!_vm.editing)?_c('UserRowSimple',{class:{'row--menu-opened': _vm.openedMenu},attrs:{\"editing\":_vm.editing,\"feedback-message\":_vm.feedbackMessage,\"groups\":_vm.groups,\"languages\":_vm.languages,\"loading\":_vm.loading,\"opened-menu\":_vm.openedMenu,\"settings\":_vm.settings,\"show-config\":_vm.showConfig,\"sub-admins-groups\":_vm.subAdminsGroups,\"user-actions\":_vm.userActions,\"user\":_vm.user,\"selected\":_vm.selected},on:{\"update:editing\":function($event){_vm.editing=$event},\"hideMenu\":_vm.hideMenu,\"toggleMenu\":_vm.toggleMenu,\"toggleSelect\":_vm.toggleSelect}}):_c('div',{staticClass:\"row row--editable\",class:{\n\t\t'disabled': _vm.loading.delete || _vm.loading.disable,\n\t\t'row--menu-opened': _vm.openedMenu\n\t},attrs:{\"data-id\":_vm.user.id}},[_c('div'),_vm._v(\" \"),_c('div',{staticClass:\"avatar\",class:{'icon-loading-small': _vm.loading.delete || _vm.loading.disable || _vm.loading.wipe}},[(!_vm.loading.delete && !_vm.loading.disable && !_vm.loading.wipe)?_c('img',{attrs:{\"src\":_vm.generateAvatar(_vm.user.id, 32),\"srcset\":_vm.generateAvatar(_vm.user.id, 64)+' 2x, '+_vm.generateAvatar(_vm.user.id, 128)+' 4x',\"alt\":\"\",\"height\":\"32\",\"width\":\"32\"}}):_vm._e()]),_vm._v(\" \"),(_vm.user.backendCapabilities.setDisplayName)?_c('div',{staticClass:\"displayName\"},[_c('form',{staticClass:\"displayName\",class:{'icon-loading-small': _vm.loading.displayName},on:{\"submit\":function($event){$event.preventDefault();return _vm.updateDisplayName($event)}}},[_c('input',{ref:\"displayName\",attrs:{\"id\":'displayName'+_vm.user.id+_vm.rand,\"disabled\":_vm.loading.displayName||_vm.loading.all,\"autocapitalize\":\"off\",\"autocomplete\":\"off\",\"autocorrect\":\"off\",\"spellcheck\":\"false\",\"type\":\"text\"},domProps:{\"value\":_vm.user.displayname}}),_vm._v(\" \"),_c('input',{staticClass:\"icon-confirm\",attrs:{\"type\":\"submit\",\"value\":\"\"}})])]):_c('div',{staticClass:\"name\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.user.id)+\"\\n\\t\\t\"),_c('div',{staticClass:\"displayName subtitle\"},[_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.user.displayname.length > 20 ? _vm.user.displayname : ''),expression:\"user.displayname.length > 20 ? user.displayname : ''\"}],staticClass:\"cellText\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.user.displayname)+\"\\n\\t\\t\\t\")])])]),_vm._v(\" \"),_c('div'),_vm._v(\" \"),(_vm.settings.canChangePassword && _vm.user.backendCapabilities.setPassword)?_c('form',{staticClass:\"password\",class:{'icon-loading-small': _vm.loading.password},on:{\"submit\":function($event){$event.preventDefault();return _vm.updatePassword($event)}}},[_c('input',{ref:\"password\",attrs:{\"id\":'password'+_vm.user.id+_vm.rand,\"disabled\":_vm.loading.password || _vm.loading.all,\"minlength\":_vm.minPasswordLength,\"placeholder\":_vm.t('settings', 'Add new password'),\"autocapitalize\":\"off\",\"autocomplete\":\"new-password\",\"autocorrect\":\"off\",\"required\":\"\",\"spellcheck\":\"false\",\"type\":\"password\",\"value\":\"\"}}),_vm._v(\" \"),_c('input',{staticClass:\"icon-confirm\",attrs:{\"type\":\"submit\",\"value\":\"\"}})]):_c('div'),_vm._v(\" \"),_c('form',{staticClass:\"mailAddress\",class:{'icon-loading-small': _vm.loading.mailAddress},on:{\"submit\":function($event){$event.preventDefault();return _vm.updateEmail($event)}}},[_c('input',{ref:\"mailAddress\",attrs:{\"id\":'mailAddress'+_vm.user.id+_vm.rand,\"disabled\":_vm.loading.mailAddress||_vm.loading.all,\"placeholder\":_vm.t('settings', 'Add new email address'),\"autocapitalize\":\"off\",\"autocomplete\":\"new-password\",\"autocorrect\":\"off\",\"spellcheck\":\"false\",\"type\":\"email\"},domProps:{\"value\":_vm.user.email}}),_vm._v(\" \"),_c('input',{staticClass:\"icon-confirm\",attrs:{\"type\":\"submit\",\"value\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"groups\",class:{'icon-loading-small': _vm.loading.groups}},[_c('Multiselect',{staticClass:\"multiselect-vue\",attrs:{\"close-on-select\":false,\"disabled\":_vm.loading.groups||_vm.loading.all,\"limit\":2,\"multiple\":true,\"options\":_vm.availableGroups,\"placeholder\":_vm.t('settings', 'Add user in group'),\"tag-width\":60,\"taggable\":_vm.settings.isAdmin,\"value\":_vm.userGroups,\"label\":\"name\",\"tag-placeholder\":\"create\",\"track-by\":\"id\"},on:{\"remove\":_vm.removeUserGroup,\"select\":_vm.addUserGroup,\"tag\":_vm.createGroup}},[_c('span',{attrs:{\"slot\":\"noResult\"},slot:\"noResult\"},[_vm._v(_vm._s(_vm.t('settings', 'No results')))])])],1),_vm._v(\" \"),(_vm.subAdminsGroups.length>0 && _vm.settings.isAdmin)?_c('div',{staticClass:\"subadmins\",class:{'icon-loading-small': _vm.loading.subadmins}},[_c('Multiselect',{staticClass:\"multiselect-vue\",attrs:{\"close-on-select\":false,\"disabled\":_vm.loading.subadmins||_vm.loading.all,\"limit\":2,\"multiple\":true,\"options\":_vm.subAdminsGroups,\"placeholder\":_vm.t('settings', 'Set user as admin for'),\"tag-width\":60,\"value\":_vm.userSubAdminsGroups,\"label\":\"name\",\"track-by\":\"id\"},on:{\"remove\":_vm.removeUserSubAdmin,\"select\":_vm.addUserSubAdmin}},[_c('span',{attrs:{\"slot\":\"noResult\"},slot:\"noResult\"},[_vm._v(_vm._s(_vm.t('settings', 'No results')))])])],1):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.auto\",value:(_vm.usedSpace),expression:\"usedSpace\",modifiers:{\"auto\":true}}],staticClass:\"quota\",class:{'icon-loading-small': _vm.loading.quota}},[_c('Multiselect',{staticClass:\"multiselect-vue\",attrs:{\"allow-empty\":false,\"disabled\":_vm.loading.quota||_vm.loading.all,\"options\":_vm.quotaOptions,\"placeholder\":_vm.t('settings', 'Select user quota'),\"taggable\":true,\"value\":_vm.userQuota,\"label\":\"label\",\"tag-placeholder\":\"create\",\"track-by\":\"id\"},on:{\"input\":_vm.setUserQuota,\"tag\":_vm.validateQuota}})],1),_vm._v(\" \"),(_vm.showConfig.showLanguages)?_c('div',{staticClass:\"languages\",class:{'icon-loading-small': _vm.loading.languages}},[_c('Multiselect',{staticClass:\"multiselect-vue\",attrs:{\"allow-empty\":false,\"disabled\":_vm.loading.languages||_vm.loading.all,\"options\":_vm.languages,\"placeholder\":_vm.t('settings', 'No language set'),\"value\":_vm.userLanguage,\"group-label\":\"label\",\"group-values\":\"languages\",\"label\":\"name\",\"track-by\":\"code\"},on:{\"input\":_vm.setUserLanguage}})],1):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showStoragePath || _vm.showConfig.showUserBackend)?_c('div',{staticClass:\"storageLocation\"}):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showLastLogin)?_c('div'):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"userActions\"},[(!_vm.loading.all)?_c('div',{staticClass:\"toggleUserActions\"},[_c('Actions',[_c('ActionButton',{attrs:{\"icon\":\"icon-checkmark\"},on:{\"click\":function($event){_vm.editing = false}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Done'))+\"\\n\\t\\t\\t\\t\")])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.hideMenu),expression:\"hideMenu\"}],staticClass:\"userPopoverMenuWrapper\"},[_c('div',{staticClass:\"icon-more\",on:{\"click\":_vm.toggleMenu}}),_vm._v(\" \"),_c('div',{staticClass:\"popovermenu\",class:{ 'open': _vm.openedMenu }},[_c('PopoverMenu',{attrs:{\"menu\":_vm.userActions}})],1)])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"feedback\",style:({opacity: _vm.feedbackMessage !== '' ? 1 : 0})},[_c('div',{staticClass:\"icon-checkmark\"}),_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.feedbackMessage)+\"\\n\\t\\t\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2018 John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @author John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<div id=\"app-content\" class=\"user-list-grid\" @scroll.passive=\"onScroll\">\n\t\t<form v-show=\"showConfig.showNewUserForm\"\n\t\t\tid=\"new-user\"\n\t\t\t:class=\"{'sticky': scrolled && showConfig.showNewUserForm}\"\n\t\t\t:disabled=\"loading.all\"\n\t\t\tclass=\"row\"\n\t\t\t@submit.prevent=\"createUser\">\n\t\t\t<div :class=\"loading.all?'icon-loading-small':'icon-add'\" />\n\t\t\t<div />\n\t\t\t<div class=\"name\">\n\t\t\t\t<input id=\"newusername\"\n\t\t\t\t\tref=\"newusername\"\n\t\t\t\t\tv-model=\"newUser.id\"\n\t\t\t\t\t:disabled=\"settings.newUserGenerateUserID\"\n\t\t\t\t\t:placeholder=\"settings.newUserGenerateUserID\n\t\t\t\t\t\t? t('settings', 'Will be autogenerated')\n\t\t\t\t\t\t: t('settings', 'Username')\"\n\t\t\t\t\tautocapitalize=\"none\"\n\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\tautocorrect=\"off\"\n\t\t\t\t\tname=\"username\"\n\t\t\t\t\tpattern=\"[a-zA-Z0-9 _\\.@\\-']+\"\n\t\t\t\t\trequired\n\t\t\t\t\ttype=\"text\">\n\t\t\t\t<div class=\"displayName\">\n\t\t\t\t\t<input id=\"newdisplayname\"\n\t\t\t\t\t\tv-model=\"newUser.displayName\"\n\t\t\t\t\t\t:placeholder=\"t('settings', 'Display name')\"\n\t\t\t\t\t\tautocapitalize=\"none\"\n\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\tautocorrect=\"off\"\n\t\t\t\t\t\tname=\"displayname\"\n\t\t\t\t\t\ttype=\"text\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"password\">\n\t\t\t\t<input id=\"newuserpassword\"\n\t\t\t\t\tref=\"newuserpassword\"\n\t\t\t\t\tv-model=\"newUser.password\"\n\t\t\t\t\t:minlength=\"minPasswordLength\"\n\t\t\t\t\t:placeholder=\"t('settings', 'Password')\"\n\t\t\t\t\t:required=\"newUser.mailAddress===''\"\n\t\t\t\t\tautocapitalize=\"none\"\n\t\t\t\t\tautocomplete=\"new-password\"\n\t\t\t\t\tautocorrect=\"off\"\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\ttype=\"password\">\n\t\t\t</div>\n\t\t\t<div class=\"mailAddress\">\n\t\t\t\t<input id=\"newemail\"\n\t\t\t\t\tv-model=\"newUser.mailAddress\"\n\t\t\t\t\t:placeholder=\"t('settings', 'Email')\"\n\t\t\t\t\t:required=\"newUser.password==='' || settings.newUserRequireEmail\"\n\t\t\t\t\tautocapitalize=\"none\"\n\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\tautocorrect=\"off\"\n\t\t\t\t\tname=\"email\"\n\t\t\t\t\ttype=\"email\">\n\t\t\t</div>\n\t\t\t<div class=\"groups\">\n\t\t\t\t<!-- hidden input trick for vanilla html5 form validation -->\n\t\t\t\t<input v-if=\"!settings.isAdmin\"\n\t\t\t\t\tid=\"newgroups\"\n\t\t\t\t\t:class=\"{'icon-loading-small': loading.groups}\"\n\t\t\t\t\t:required=\"!settings.isAdmin\"\n\t\t\t\t\t:value=\"newUser.groups\"\n\t\t\t\t\ttabindex=\"-1\"\n\t\t\t\t\ttype=\"text\">\n\t\t\t\t<Multiselect v-model=\"newUser.groups\"\n\t\t\t\t\t:close-on-select=\"false\"\n\t\t\t\t\t:disabled=\"loading.groups||loading.all\"\n\t\t\t\t\t:multiple=\"true\"\n\t\t\t\t\t:options=\"canAddGroups\"\n\t\t\t\t\t:placeholder=\"t('settings', 'Add user in group')\"\n\t\t\t\t\t:tag-width=\"60\"\n\t\t\t\t\t:taggable=\"true\"\n\t\t\t\t\tclass=\"multiselect-vue\"\n\t\t\t\t\tlabel=\"name\"\n\t\t\t\t\ttag-placeholder=\"create\"\n\t\t\t\t\ttrack-by=\"id\"\n\t\t\t\t\t@tag=\"createGroup\">\n\t\t\t\t\t<!-- If user is not admin, he is a subadmin.\n\t\t\t\t\t\tSubadmins can't create users outside their groups\n\t\t\t\t\t\tTherefore, empty select is forbidden -->\n\t\t\t\t\t<span slot=\"noResult\">{{ t('settings', 'No results') }}</span>\n\t\t\t\t</Multiselect>\n\t\t\t</div>\n\t\t\t<div v-if=\"subAdminsGroups.length>0 && settings.isAdmin\"\n\t\t\t\tclass=\"subadmins\">\n\t\t\t\t<Multiselect v-model=\"newUser.subAdminsGroups\"\n\t\t\t\t\t:close-on-select=\"false\"\n\t\t\t\t\t:multiple=\"true\"\n\t\t\t\t\t:options=\"subAdminsGroups\"\n\t\t\t\t\t:placeholder=\"t('settings', 'Set user as admin for')\"\n\t\t\t\t\t:tag-width=\"60\"\n\t\t\t\t\tclass=\"multiselect-vue\"\n\t\t\t\t\tlabel=\"name\"\n\t\t\t\t\ttrack-by=\"id\">\n\t\t\t\t\t<span slot=\"noResult\">{{ t('settings', 'No results') }}</span>\n\t\t\t\t</Multiselect>\n\t\t\t</div>\n\t\t\t<div class=\"quota\">\n\t\t\t\t<Multiselect v-model=\"newUser.quota\"\n\t\t\t\t\t:allow-empty=\"false\"\n\t\t\t\t\t:options=\"quotaOptions\"\n\t\t\t\t\t:placeholder=\"t('settings', 'Select user quota')\"\n\t\t\t\t\t:taggable=\"true\"\n\t\t\t\t\tclass=\"multiselect-vue\"\n\t\t\t\t\tlabel=\"label\"\n\t\t\t\t\ttrack-by=\"id\"\n\t\t\t\t\t@tag=\"validateQuota\" />\n\t\t\t</div>\n\t\t\t<div v-if=\"showConfig.showLanguages\" class=\"languages\">\n\t\t\t\t<Multiselect v-model=\"newUser.language\"\n\t\t\t\t\t:allow-empty=\"false\"\n\t\t\t\t\t:options=\"languages\"\n\t\t\t\t\t:placeholder=\"t('settings', 'Default language')\"\n\t\t\t\t\tclass=\"multiselect-vue\"\n\t\t\t\t\tgroup-label=\"label\"\n\t\t\t\t\tgroup-values=\"languages\"\n\t\t\t\t\tlabel=\"name\"\n\t\t\t\t\ttrack-by=\"code\" />\n\t\t\t</div>\n\t\t\t<div v-if=\"showConfig.showStoragePath\" class=\"storageLocation\" />\n\t\t\t<div v-if=\"showConfig.showUserBackend\" class=\"userBackend\" />\n\t\t\t<div v-if=\"showConfig.showLastLogin\" class=\"lastLogin\" />\n\t\t\t<div class=\"userActions\">\n\t\t\t\t<input id=\"newsubmit\"\n\t\t\t\t\t:title=\"t('settings', 'Add a new user')\"\n\t\t\t\t\tclass=\"button primary icon-checkmark-white has-tooltip\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tvalue=\"\">\n\t\t\t\t<div class=\"closeButton\">\n\t\t\t\t\t<Actions>\n\t\t\t\t\t\t<ActionButton icon=\"icon-close\" @click=\"onClose\">\n\t\t\t\t\t\t\t{{ t('settings', 'Close') }}\n\t\t\t\t\t\t</ActionButton>\n\t\t\t\t\t</Actions>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\t\t<div v-if=\"selectedUsers.length > 0\" class=\"update-main-groups\">\n\t\t\t<Multiselect v-model=\"selectedGroups\"\n\t\t\t\t:close-on-select=\"false\"\n\t\t\t\t:multiple=\"true\"\n\t\t\t\t:options=\"canAddGroups\"\n\t\t\t\t:placeholder=\"t('settings', 'Add user\\'s main groups')\"\n\t\t\t\t:tag-width=\"80\"\n\t\t\t\t:disabled=\"loading.groups || loading.all\"\n\t\t\t\tclass=\"multiselect-vue\"\n\t\t\t\tlabel=\"name\"\n\t\t\t\ttrack-by=\"id\">\n\t\t\t\t<span slot=\"noResult\">{{ t('settings', 'No results') }}</span>\n\t\t\t</Multiselect>\n\t\t\t<button class=\"btn primary\" @click=\"addUsersGroups\">\n\t\t\t\t{{ t('settings', 'Add') }}\n\t\t\t</button>\n\t\t</div>\n\t\t<div v-else\n\t\t\tid=\"grid-header\"\n\t\t\t:class=\"{'sticky': scrolled && !showConfig.showNewUserForm}\"\n\t\t\tclass=\"row\">\n\t\t\t<div id=\"headerAvatar\" class=\"avatar\" />\n\t\t\t<div id=\"headerName\" class=\"name\">\n\t\t\t\t{{ t('settings', 'Username') }}\n\n\t\t\t\t<div class=\"subtitle\">\n\t\t\t\t\t{{ t('settings', 'Display name') }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div />\n\t\t\t<div id=\"headerMainGroups\" class=\"main-groups\">\n\t\t\t\t{{ t('settings', 'Main Groups') }}\n\t\t\t</div>\n\t\t\t<div id=\"headerPassword\" class=\"password\">\n\t\t\t\t{{ t('settings', 'Password') }}\n\t\t\t</div>\n\t\t\t<div id=\"headerAddress\" class=\"mailAddress\">\n\t\t\t\t{{ t('settings', 'Email') }}\n\t\t\t</div>\n\t\t\t<div id=\"headerGroups\" class=\"groups\">\n\t\t\t\t{{ t('settings', 'Groups') }}\n\t\t\t</div>\n\t\t\t<div v-if=\"subAdminsGroups.length>0 && settings.isAdmin\"\n\t\t\t\tid=\"headerSubAdmins\"\n\t\t\t\tclass=\"subadmins\">\n\t\t\t\t{{ t('settings', 'Group admin for') }}\n\t\t\t</div>\n\t\t\t<div id=\"headerQuota\" class=\"quota\">\n\t\t\t\t{{ t('settings', 'Quota') }}\n\t\t\t</div>\n\t\t\t<div v-if=\"showConfig.showLanguages\"\n\t\t\t\tid=\"headerLanguages\"\n\t\t\t\tclass=\"languages\">\n\t\t\t\t{{ t('settings', 'Language') }}\n\t\t\t</div>\n\n\t\t\t<div v-if=\"showConfig.showUserBackend || showConfig.showStoragePath\"\n\t\t\t\tclass=\"headerUserBackend userBackend\">\n\t\t\t\t<div v-if=\"showConfig.showUserBackend\" class=\"userBackend\">\n\t\t\t\t\t{{ t('settings', 'User backend') }}\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"showConfig.showStoragePath\"\n\t\t\t\t\tclass=\"subtitle storageLocation\">\n\t\t\t\t\t{{ t('settings', 'Storage location') }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div v-if=\"showConfig.showLastLogin\"\n\t\t\t\tclass=\"headerLastLogin lastLogin\">\n\t\t\t\t{{ t('settings', 'Last login') }}\n\t\t\t</div>\n\n\t\t\t<div class=\"userActions\" />\n\t\t</div>\n\n\t\t<user-row v-for=\"(user, key) in filteredUsers\"\n\t\t\t:key=\"key\"\n\t\t\t:external-actions=\"externalActions\"\n\t\t\t:groups=\"groups\"\n\t\t\t:languages=\"languages\"\n\t\t\t:quota-options=\"quotaOptions\"\n\t\t\t:settings=\"settings\"\n\t\t\t:show-config=\"showConfig\"\n\t\t\t:sub-admins-groups=\"subAdminsGroups\"\n\t\t\t:user=\"user\"\n\t\t\t:selected=\"!!selectedUsers.find(u => u.id === user.id)\"\n\t\t\t@toggleSelect=\"toggleSelectedUsers\" />\n\n\t\t<InfiniteLoading ref=\"infiniteLoading\" @infinite=\"infiniteHandler\">\n\t\t\t<div slot=\"spinner\">\n\t\t\t\t<div class=\"users-icon-loading icon-loading\" />\n\t\t\t</div>\n\t\t\t<div slot=\"no-more\">\n\t\t\t\t<div class=\"users-list-end\" />\n\t\t\t</div>\n\t\t\t<div slot=\"no-results\">\n\t\t\t\t<div id=\"emptycontent\">\n\t\t\t\t\t<div class=\"icon-contacts-dark\" />\n\t\t\t\t\t<h2>{{ t('settings', 'No users in here') }}</h2>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</InfiniteLoading>\n\t</div>\n</template>\n\n<script>\nimport userRow from './UserList/UserRow'\nimport { Multiselect, Actions, ActionButton } from '@nextcloud/vue'\nimport InfiniteLoading from 'vue-infinite-loading'\nimport Vue from 'vue'\n\nconst unlimitedQuota = {\n\tid: 'none',\n\tlabel: t('settings', 'Unlimited'),\n}\nconst defaultQuota = {\n\tid: 'default',\n\tlabel: t('settings', 'Default quota'),\n}\nconst newUser = {\n\tid: '',\n\tdisplayName: '',\n\tpassword: '',\n\tmailAddress: '',\n\tgroups: [],\n\tsubAdminsGroups: [],\n\tquota: defaultQuota,\n\tlanguage: {\n\t\tcode: 'en',\n\t\tname: t('settings', 'Default language'),\n\t},\n}\n\nexport default {\n\tname: 'UserList',\n\tcomponents: {\n\t\tuserRow,\n\t\tMultiselect,\n\t\tInfiniteLoading,\n\t\tActions,\n\t\tActionButton,\n\t},\n\tprops: {\n\t\tusers: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [],\n\t\t},\n\t\tshowConfig: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tselectedGroup: {\n\t\t\ttype: String,\n\t\t\tdefault: null,\n\t\t},\n\t\texternalActions: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [],\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tunlimitedQuota,\n\t\t\tdefaultQuota,\n\t\t\tloading: {\n\t\t\t\tall: false,\n\t\t\t\tgroups: false,\n\t\t\t},\n\t\t\tscrolled: false,\n\t\t\tsearchQuery: '',\n\t\t\tnewUser: Object.assign({}, newUser),\n\t\t\tselectedGroups: [],\n\t\t\tselectedUsers: [],\n\t\t}\n\t},\n\tcomputed: {\n\t\tsettings() {\n\t\t\treturn this.$store.getters.getServerData\n\t\t},\n\t\tselectedGroupDecoded() {\n\t\t\treturn decodeURIComponent(this.selectedGroup)\n\t\t},\n\t\tfilteredUsers() {\n\t\t\tif (this.selectedGroup === 'disabled') {\n\t\t\t\treturn this.users.filter(user => user.enabled === false)\n\t\t\t}\n\t\t\tif (!this.settings.isAdmin) {\n\t\t\t\t// we don't want subadmins to edit themselves\n\t\t\t\treturn this.users.filter(user => user.enabled !== false)\n\t\t\t}\n\t\t\treturn this.users.filter(user => user.enabled !== false)\n\t\t},\n\t\tgroups() {\n\t\t\t// data provided php side + remove the disabled group\n\t\t\treturn this.$store.getters.getGroups\n\t\t\t\t.filter(group => group.id !== 'disabled')\n\t\t\t\t.sort((a, b) => a.name.localeCompare(b.name))\n\t\t},\n\t\tcanAddGroups() {\n\t\t\t// disabled if no permission to add new users to group\n\t\t\treturn this.groups.map(group => {\n\t\t\t\t// clone object because we don't want\n\t\t\t\t// to edit the original groups\n\t\t\t\tgroup = Object.assign({}, group)\n\t\t\t\tgroup.$isDisabled = group.canAdd === false\n\t\t\t\treturn group\n\t\t\t})\n\t\t},\n\t\tsubAdminsGroups() {\n\t\t\t// data provided php side\n\t\t\treturn this.$store.getters.getSubadminGroups\n\t\t},\n\t\tquotaOptions() {\n\t\t\t// convert the preset array into objects\n\t\t\tconst quotaPreset = this.settings.quotaPreset.reduce((acc, cur) => acc.concat({\n\t\t\t\tid: cur,\n\t\t\t\tlabel: cur,\n\t\t\t}), [])\n\t\t\t// add default presets\n\t\t\tquotaPreset.unshift(this.unlimitedQuota)\n\t\t\tquotaPreset.unshift(this.defaultQuota)\n\t\t\treturn quotaPreset\n\t\t},\n\t\tminPasswordLength() {\n\t\t\treturn this.$store.getters.getPasswordPolicyMinLength\n\t\t},\n\t\tusersOffset() {\n\t\t\treturn this.$store.getters.getUsersOffset\n\t\t},\n\t\tusersLimit() {\n\t\t\treturn this.$store.getters.getUsersLimit\n\t\t},\n\t\tusersCount() {\n\t\t\treturn this.users.length\n\t\t},\n\n\t\t/* LANGUAGES */\n\t\tlanguages() {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tlabel: t('settings', 'Common languages'),\n\t\t\t\t\tlanguages: this.settings.languages.commonlanguages,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: t('settings', 'All languages'),\n\t\t\t\t\tlanguages: this.settings.languages.languages,\n\t\t\t\t},\n\t\t\t]\n\t\t},\n\t},\n\twatch: {\n\t\t// watch url change and group select\n\t\tselectedGroup: function(val, old) {\n\t\t\t// if selected is the disabled group but it's empty\n\t\t\tthis.redirectIfDisabled()\n\t\t\tthis.$store.commit('resetUsers')\n\t\t\tthis.$refs.infiniteLoading.stateChanger.reset()\n\t\t\tthis.setNewUserDefaultGroup(val)\n\t\t},\n\n\t\t// make sure the infiniteLoading state is changed if we manually\n\t\t// add/remove data from the store\n\t\tusersCount: function(val, old) {\n\t\t\t// deleting the last user, reset the list\n\t\t\tif (val === 0 && old === 1) {\n\t\t\t\tthis.$refs.infiniteLoading.stateChanger.reset()\n\t\t\t\t// adding the first user, warn the infiniteLoader that\n\t\t\t\t// the list is not empty anymore (we don't fetch the newly\n\t\t\t\t// added user as we already have all the info we need)\n\t\t\t} else if (val === 1 && old === 0) {\n\t\t\t\tthis.$refs.infiniteLoading.stateChanger.loaded()\n\t\t\t}\n\t\t},\n\t},\n\tmounted() {\n\t\tif (!this.settings.canChangePassword) {\n\t\t\tOC.Notification.showTemporary(t('settings', 'Password change is disabled because the master key is disabled'))\n\t\t}\n\n\t\t/**\n\t\t * Reset and init new user form\n\t\t */\n\t\tthis.resetForm()\n\n\t\t/**\n\t\t * Register search\n\t\t */\n\t\tthis.userSearch = new OCA.Search(this.search, this.resetSearch)\n\n\t\t/**\n\t\t * If disabled group but empty, redirect\n\t\t */\n\t\tthis.redirectIfDisabled()\n\t},\n\tmethods: {\n\t\tonScroll(event) {\n\t\t\tthis.scrolled = event.target.scrollTo > 0\n\t\t},\n\n\t\t/**\n\t\t * Validate quota string to make sure it's a valid human file size\n\t\t *\n\t\t * @param {string} quota Quota in readable format '5 GB'\n\t\t * @returns {Object}\n\t\t */\n\t\tvalidateQuota(quota) {\n\t\t\t// only used for new presets sent through @Tag\n\t\t\tconst validQuota = OC.Util.computerFileSize(quota)\n\t\t\tif (validQuota !== null && validQuota >= 0) {\n\t\t\t\t// unify format output\n\t\t\t\tquota = OC.Util.humanFileSize(OC.Util.computerFileSize(quota))\n\t\t\t\tthis.newUser.quota = { id: quota, label: quota }\n\t\t\t\treturn this.newUser.quota\n\t\t\t}\n\t\t\t// Default is unlimited\n\t\t\tthis.newUser.quota = this.quotaOptions[0]\n\t\t\treturn this.quotaOptions[0]\n\t\t},\n\n\t\tinfiniteHandler($state) {\n\t\t\tthis.$store.dispatch('getUsers', {\n\t\t\t\toffset: this.usersOffset,\n\t\t\t\tlimit: this.usersLimit,\n\t\t\t\tgroup: this.selectedGroup !== 'disabled' ? this.selectedGroup : '',\n\t\t\t\tsearch: this.searchQuery,\n\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tresponse ? $state.loaded() : $state.complete()\n\t\t\t\t})\n\t\t},\n\n\t\t/* SEARCH */\n\t\tsearch(query) {\n\t\t\tthis.searchQuery = query\n\t\t\tthis.$store.commit('resetUsers')\n\t\t\tthis.$refs.infiniteLoading.stateChanger.reset()\n\t\t},\n\t\tresetSearch() {\n\t\t\tthis.search('')\n\t\t},\n\n\t\tresetForm() {\n\t\t\t// revert form to original state\n\t\t\tthis.newUser = Object.assign({}, newUser)\n\n\t\t\t/**\n\t\t\t * Init default language from server data. The use of this.settings\n\t\t\t * requires a computed variable, which break the v-model binding of the form,\n\t\t\t * this is a much easier solution than getter and setter on a computed var\n\t\t\t */\n\t\t\tif (this.settings.defaultLanguage) {\n\t\t\t\tVue.set(this.newUser.language, 'code', this.settings.defaultLanguage)\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * In case the user directly loaded the user list within a group\n\t\t\t * the watch won't be triggered. We need to initialize it.\n\t\t\t */\n\t\t\tthis.setNewUserDefaultGroup(this.selectedGroup)\n\n\t\t\tthis.loading.all = false\n\t\t},\n\t\tcreateUser() {\n\t\t\tthis.loading.all = true\n\t\t\tthis.$store.dispatch('addUser', {\n\t\t\t\tuserid: this.newUser.id,\n\t\t\t\tpassword: this.newUser.password,\n\t\t\t\tdisplayName: this.newUser.displayName,\n\t\t\t\temail: this.newUser.mailAddress,\n\t\t\t\tgroups: this.newUser.groups.map(group => group.id),\n\t\t\t\tsubadmin: this.newUser.subAdminsGroups.map(group => group.id),\n\t\t\t\tquota: this.newUser.quota.id,\n\t\t\t\tlanguage: this.newUser.language.code,\n\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.resetForm()\n\t\t\t\t\tthis.$refs.newusername.focus()\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tthis.loading.all = false\n\t\t\t\t\tif (error.response && error.response.data && error.response.data.ocs && error.response.data.ocs.meta) {\n\t\t\t\t\t\tconst statuscode = error.response.data.ocs.meta.statuscode\n\t\t\t\t\t\tif (statuscode === 102) {\n\t\t\t\t\t\t\t// wrong username\n\t\t\t\t\t\t\tthis.$refs.newusername.focus()\n\t\t\t\t\t\t} else if (statuscode === 107) {\n\t\t\t\t\t\t\t// wrong password\n\t\t\t\t\t\t\tthis.$refs.newuserpassword.focus()\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t},\n\t\tsetNewUserDefaultGroup(value) {\n\t\t\tconst currentGroups = this\n\t\t\t\t.groups\n\t\t\t\t.filter(group => (value && value.length > 0 && group.id === value) || group.id === 'local')\n\n\t\t\tthis.newUser.groups = currentGroups\n\t\t},\n\n\t\t/**\n\t\t * Create a new group\n\t\t *\n\t\t * @param {string} gid Group id\n\t\t * @returns {Promise}\n\t\t */\n\t\tcreateGroup(gid) {\n\t\t\tthis.loading.groups = true\n\t\t\tthis.$store.dispatch('addGroup', gid)\n\t\t\t\t.then((group) => {\n\t\t\t\t\tthis.newUser.groups.push(this.groups.find(group => group.id === gid))\n\t\t\t\t\tthis.loading.groups = false\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tthis.loading.groups = false\n\t\t\t\t})\n\t\t\treturn this.$store.getters.getGroups[this.groups.length]\n\t\t},\n\n\t\t/**\n\t\t * If the selected group is the disabled group but the count is 0\n\t\t * redirect to the all users page.\n\t\t * * we only check for 0 because we don't have the count on ldap\n\t\t * * and we therefore set the usercount to -1 in this specific case\n\t\t */\n\t\tredirectIfDisabled() {\n\t\t\tconst allGroups = this.$store.getters.getGroups\n\t\t\tif (this.selectedGroup === 'disabled'\n\t\t\t\t\t\t&& allGroups.findIndex(group => group.id === 'disabled' && group.usercount === 0) > -1) {\n\t\t\t\t// disabled group is empty, redirection to all users\n\t\t\t\tthis.$router.push({ name: 'users' })\n\t\t\t\tthis.$refs.infiniteLoading.stateChanger.reset()\n\t\t\t}\n\t\t},\n\t\tonClose() {\n\t\t\tthis.showConfig.showNewUserForm = false\n\t\t},\n\n\t\t/**\n\t\t * Select multiple users and change their main groups\n\t\t * @param {Object} user Selected user info\n\t\t */\n\t\ttoggleSelectedUsers(user) {\n\t\t\tif (this.selectedUsers.find(u => u.id === user.id)) {\n\t\t\t\tthis.selectedUsers = this.selectedUsers.filter(u => u.id !== user.id)\n\t\t\t} else {\n\t\t\t\tthis.selectedUsers.push(user)\n\t\t\t}\n\t\t},\n\t\taddUsersGroups: function() {\n\t\t\tthis.loading.groups = true\n\t\t\tthis.selectedUsers.forEach((user) => {\n\t\t\t\tthis.selectedGroups.forEach(async(group) => {\n\t\t\t\t\tif (!group.canAdd || user.groups.includes(group.id)) return\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait this.$store.dispatch('addUserGroup', { userid: user.id, gid: group.id })\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t// TODO: Log error\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tthis.selectedGroups.splice(0)\n\t\t\tthis.selectedUsers.splice(0)\n\n\t\t\tthis.loading.groups = false\n\t\t},\n\t},\n}\n</script>\n<style scoped>\n\t.row::v-deep .multiselect__single {\n\t\tz-index: auto !important;\n\t}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserList.vue?vue&type=template&id=509f8bf8&scoped=true&\"\nimport script from \"./UserList.vue?vue&type=script&lang=js&\"\nexport * from \"./UserList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserList.vue?vue&type=style&index=0&id=509f8bf8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"509f8bf8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-list-grid\",attrs:{\"id\":\"app-content\"},on:{\"&scroll\":function($event){return _vm.onScroll($event)}}},[_c('form',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showConfig.showNewUserForm),expression:\"showConfig.showNewUserForm\"}],staticClass:\"row\",class:{'sticky': _vm.scrolled && _vm.showConfig.showNewUserForm},attrs:{\"id\":\"new-user\",\"disabled\":_vm.loading.all},on:{\"submit\":function($event){$event.preventDefault();return _vm.createUser($event)}}},[_c('div',{class:_vm.loading.all?'icon-loading-small':'icon-add'}),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div',{staticClass:\"name\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newUser.id),expression:\"newUser.id\"}],ref:\"newusername\",attrs:{\"id\":\"newusername\",\"disabled\":_vm.settings.newUserGenerateUserID,\"placeholder\":_vm.settings.newUserGenerateUserID\n\t\t\t\t\t? _vm.t('settings', 'Will be autogenerated')\n\t\t\t\t\t: _vm.t('settings', 'Username'),\"autocapitalize\":\"none\",\"autocomplete\":\"off\",\"autocorrect\":\"off\",\"name\":\"username\",\"pattern\":\"[a-zA-Z0-9 _\\\\.@\\\\-']+\",\"required\":\"\",\"type\":\"text\"},domProps:{\"value\":(_vm.newUser.id)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newUser, \"id\", $event.target.value)}}}),_vm._v(\" \"),_c('div',{staticClass:\"displayName\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newUser.displayName),expression:\"newUser.displayName\"}],attrs:{\"id\":\"newdisplayname\",\"placeholder\":_vm.t('settings', 'Display name'),\"autocapitalize\":\"none\",\"autocomplete\":\"off\",\"autocorrect\":\"off\",\"name\":\"displayname\",\"type\":\"text\"},domProps:{\"value\":(_vm.newUser.displayName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newUser, \"displayName\", $event.target.value)}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"password\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newUser.password),expression:\"newUser.password\"}],ref:\"newuserpassword\",attrs:{\"id\":\"newuserpassword\",\"minlength\":_vm.minPasswordLength,\"placeholder\":_vm.t('settings', 'Password'),\"required\":_vm.newUser.mailAddress==='',\"autocapitalize\":\"none\",\"autocomplete\":\"new-password\",\"autocorrect\":\"off\",\"name\":\"password\",\"type\":\"password\"},domProps:{\"value\":(_vm.newUser.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newUser, \"password\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"mailAddress\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newUser.mailAddress),expression:\"newUser.mailAddress\"}],attrs:{\"id\":\"newemail\",\"placeholder\":_vm.t('settings', 'Email'),\"required\":_vm.newUser.password==='' || _vm.settings.newUserRequireEmail,\"autocapitalize\":\"none\",\"autocomplete\":\"off\",\"autocorrect\":\"off\",\"name\":\"email\",\"type\":\"email\"},domProps:{\"value\":(_vm.newUser.mailAddress)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newUser, \"mailAddress\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"groups\"},[(!_vm.settings.isAdmin)?_c('input',{class:{'icon-loading-small': _vm.loading.groups},attrs:{\"id\":\"newgroups\",\"required\":!_vm.settings.isAdmin,\"tabindex\":\"-1\",\"type\":\"text\"},domProps:{\"value\":_vm.newUser.groups}}):_vm._e(),_vm._v(\" \"),_c('Multiselect',{staticClass:\"multiselect-vue\",attrs:{\"close-on-select\":false,\"disabled\":_vm.loading.groups||_vm.loading.all,\"multiple\":true,\"options\":_vm.canAddGroups,\"placeholder\":_vm.t('settings', 'Add user in group'),\"tag-width\":60,\"taggable\":true,\"label\":\"name\",\"tag-placeholder\":\"create\",\"track-by\":\"id\"},on:{\"tag\":_vm.createGroup},model:{value:(_vm.newUser.groups),callback:function ($$v) {_vm.$set(_vm.newUser, \"groups\", $$v)},expression:\"newUser.groups\"}},[_c('span',{attrs:{\"slot\":\"noResult\"},slot:\"noResult\"},[_vm._v(_vm._s(_vm.t('settings', 'No results')))])])],1),_vm._v(\" \"),(_vm.subAdminsGroups.length>0 && _vm.settings.isAdmin)?_c('div',{staticClass:\"subadmins\"},[_c('Multiselect',{staticClass:\"multiselect-vue\",attrs:{\"close-on-select\":false,\"multiple\":true,\"options\":_vm.subAdminsGroups,\"placeholder\":_vm.t('settings', 'Set user as admin for'),\"tag-width\":60,\"label\":\"name\",\"track-by\":\"id\"},model:{value:(_vm.newUser.subAdminsGroups),callback:function ($$v) {_vm.$set(_vm.newUser, \"subAdminsGroups\", $$v)},expression:\"newUser.subAdminsGroups\"}},[_c('span',{attrs:{\"slot\":\"noResult\"},slot:\"noResult\"},[_vm._v(_vm._s(_vm.t('settings', 'No results')))])])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"quota\"},[_c('Multiselect',{staticClass:\"multiselect-vue\",attrs:{\"allow-empty\":false,\"options\":_vm.quotaOptions,\"placeholder\":_vm.t('settings', 'Select user quota'),\"taggable\":true,\"label\":\"label\",\"track-by\":\"id\"},on:{\"tag\":_vm.validateQuota},model:{value:(_vm.newUser.quota),callback:function ($$v) {_vm.$set(_vm.newUser, \"quota\", $$v)},expression:\"newUser.quota\"}})],1),_vm._v(\" \"),(_vm.showConfig.showLanguages)?_c('div',{staticClass:\"languages\"},[_c('Multiselect',{staticClass:\"multiselect-vue\",attrs:{\"allow-empty\":false,\"options\":_vm.languages,\"placeholder\":_vm.t('settings', 'Default language'),\"group-label\":\"label\",\"group-values\":\"languages\",\"label\":\"name\",\"track-by\":\"code\"},model:{value:(_vm.newUser.language),callback:function ($$v) {_vm.$set(_vm.newUser, \"language\", $$v)},expression:\"newUser.language\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showStoragePath)?_c('div',{staticClass:\"storageLocation\"}):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showUserBackend)?_c('div',{staticClass:\"userBackend\"}):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showLastLogin)?_c('div',{staticClass:\"lastLogin\"}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"userActions\"},[_c('input',{staticClass:\"button primary icon-checkmark-white has-tooltip\",attrs:{\"id\":\"newsubmit\",\"title\":_vm.t('settings', 'Add a new user'),\"type\":\"submit\",\"value\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"closeButton\"},[_c('Actions',[_c('ActionButton',{attrs:{\"icon\":\"icon-close\"},on:{\"click\":_vm.onClose}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Close'))+\"\\n\\t\\t\\t\\t\\t\")])],1)],1)])]),_vm._v(\" \"),(_vm.selectedUsers.length > 0)?_c('div',{staticClass:\"update-main-groups\"},[_c('Multiselect',{staticClass:\"multiselect-vue\",attrs:{\"close-on-select\":false,\"multiple\":true,\"options\":_vm.canAddGroups,\"placeholder\":_vm.t('settings', 'Add user\\'s main groups'),\"tag-width\":80,\"disabled\":_vm.loading.groups || _vm.loading.all,\"label\":\"name\",\"track-by\":\"id\"},model:{value:(_vm.selectedGroups),callback:function ($$v) {_vm.selectedGroups=$$v},expression:\"selectedGroups\"}},[_c('span',{attrs:{\"slot\":\"noResult\"},slot:\"noResult\"},[_vm._v(_vm._s(_vm.t('settings', 'No results')))])]),_vm._v(\" \"),_c('button',{staticClass:\"btn primary\",on:{\"click\":_vm.addUsersGroups}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Add'))+\"\\n\\t\\t\")])],1):_c('div',{staticClass:\"row\",class:{'sticky': _vm.scrolled && !_vm.showConfig.showNewUserForm},attrs:{\"id\":\"grid-header\"}},[_c('div',{staticClass:\"avatar\",attrs:{\"id\":\"headerAvatar\"}}),_vm._v(\" \"),_c('div',{staticClass:\"name\",attrs:{\"id\":\"headerName\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Username'))+\"\\n\\n\\t\\t\\t\"),_c('div',{staticClass:\"subtitle\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Display name'))+\"\\n\\t\\t\\t\")])]),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div',{staticClass:\"main-groups\",attrs:{\"id\":\"headerMainGroups\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Main Groups'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"password\",attrs:{\"id\":\"headerPassword\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Password'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"mailAddress\",attrs:{\"id\":\"headerAddress\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Email'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"groups\",attrs:{\"id\":\"headerGroups\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Groups'))+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.subAdminsGroups.length>0 && _vm.settings.isAdmin)?_c('div',{staticClass:\"subadmins\",attrs:{\"id\":\"headerSubAdmins\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Group admin for'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"quota\",attrs:{\"id\":\"headerQuota\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Quota'))+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.showConfig.showLanguages)?_c('div',{staticClass:\"languages\",attrs:{\"id\":\"headerLanguages\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Language'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showUserBackend || _vm.showConfig.showStoragePath)?_c('div',{staticClass:\"headerUserBackend userBackend\"},[(_vm.showConfig.showUserBackend)?_c('div',{staticClass:\"userBackend\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('settings', 'User backend'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showStoragePath)?_c('div',{staticClass:\"subtitle storageLocation\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Storage location'))+\"\\n\\t\\t\\t\")]):_vm._e()]):_vm._e(),_vm._v(\" \"),(_vm.showConfig.showLastLogin)?_c('div',{staticClass:\"headerLastLogin lastLogin\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('settings', 'Last login'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"userActions\"})]),_vm._v(\" \"),_vm._l((_vm.filteredUsers),function(user,key){return _c('user-row',{key:key,attrs:{\"external-actions\":_vm.externalActions,\"groups\":_vm.groups,\"languages\":_vm.languages,\"quota-options\":_vm.quotaOptions,\"settings\":_vm.settings,\"show-config\":_vm.showConfig,\"sub-admins-groups\":_vm.subAdminsGroups,\"user\":user,\"selected\":!!_vm.selectedUsers.find(function (u) { return u.id === user.id; })},on:{\"toggleSelect\":_vm.toggleSelectedUsers}})}),_vm._v(\" \"),_c('InfiniteLoading',{ref:\"infiniteLoading\",on:{\"infinite\":_vm.infiniteHandler}},[_c('div',{attrs:{\"slot\":\"spinner\"},slot:\"spinner\"},[_c('div',{staticClass:\"users-icon-loading icon-loading\"})]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"no-more\"},slot:\"no-more\"},[_c('div',{staticClass:\"users-list-end\"})]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"no-results\"},slot:\"no-results\"},[_c('div',{attrs:{\"id\":\"emptycontent\"}},[_c('div',{staticClass:\"icon-contacts-dark\"}),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.t('settings', 'No users in here')))])])])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2018 John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @author John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<Content app-name=\"settings\" :navigation-class=\"{ 'icon-loading': loadingAddGroup }\">\n\t\t<AppNavigation>\n\t\t\t<AppNavigationNew button-id=\"new-user-button\"\n\t\t\t\t:text=\"t('settings','New user')\"\n\t\t\t\tbutton-class=\"icon-add\"\n\t\t\t\t@click=\"toggleNewUserMenu\" />\n\t\t\t<ul id=\"usergrouplist\">\n\t\t\t\t<AppNavigationItem\n\t\t\t\t\tid=\"addgroup\"\n\t\t\t\t\tref=\"addGroup\"\n\t\t\t\t\t:edit-placeholder=\"t('settings', 'Enter group name')\"\n\t\t\t\t\t:editable=\"true\"\n\t\t\t\t\t:loading=\"loadingAddGroup\"\n\t\t\t\t\t:title=\"t('settings', 'Add group')\"\n\t\t\t\t\ticon=\"icon-add\"\n\t\t\t\t\t@click=\"toggleAddGroupEntry(true)\"\n\t\t\t\t\t@update:title=\"createGroup\" />\n\t\t\t\t<AppNavigationItem\n\t\t\t\t\tid=\"everyone\"\n\t\t\t\t\t:exact=\"true\"\n\t\t\t\t\t:title=\"t('settings', 'Everyone')\"\n\t\t\t\t\t:to=\"{ name: 'users' }\"\n\t\t\t\t\ticon=\"icon-contacts-dark\">\n\t\t\t\t\t<AppNavigationCounter v-if=\"userCount > 0\" slot=\"counter\">\n\t\t\t\t\t\t{{ userCount }}\n\t\t\t\t\t</AppNavigationCounter>\n\t\t\t\t</AppNavigationItem>\n\t\t\t\t<AppNavigationItem\n\t\t\t\t\tv-if=\"settings.isAdmin\"\n\t\t\t\t\tid=\"admin\"\n\t\t\t\t\t:exact=\"true\"\n\t\t\t\t\t:title=\"t('settings', 'Admins')\"\n\t\t\t\t\t:to=\"{ name: 'group', params: { selectedGroup: 'admin' } }\"\n\t\t\t\t\ticon=\"icon-user-admin\">\n\t\t\t\t\t<AppNavigationCounter v-if=\"adminGroupMenu.count\" slot=\"counter\">\n\t\t\t\t\t\t{{ adminGroupMenu.count }}\n\t\t\t\t\t</AppNavigationCounter>\n\t\t\t\t</AppNavigationItem>\n\n\t\t\t\t<!-- Hide the disabled if none, if we don't have the data (-1) show it -->\n\t\t\t\t<AppNavigationItem\n\t\t\t\t\tv-if=\"disabledGroupMenu.usercount > 0 || disabledGroupMenu.usercount === -1\"\n\t\t\t\t\tid=\"disabled\"\n\t\t\t\t\t:exact=\"true\"\n\t\t\t\t\t:title=\"t('settings', 'Disabled users')\"\n\t\t\t\t\t:to=\"{ name: 'group', params: { selectedGroup: 'disabled' } }\"\n\t\t\t\t\ticon=\"icon-disabled-users\">\n\t\t\t\t\t<AppNavigationCounter v-if=\"disabledGroupMenu.usercount > 0\" slot=\"counter\">\n\t\t\t\t\t\t{{ disabledGroupMenu.usercount }}\n\t\t\t\t\t</AppNavigationCounter>\n\t\t\t\t</AppNavigationItem>\n\n\t\t\t\t<AppNavigationCaption v-if=\"groupList.length > 0\" :title=\"t('settings', 'Groups')\" />\n\t\t\t\t<AppNavigationItem\n\t\t\t\t\tv-for=\"group in groupList\"\n\t\t\t\t\t:key=\"group.id\"\n\t\t\t\t\t:exact=\"true\"\n\t\t\t\t\t:title=\"group.title\"\n\t\t\t\t\t:to=\"{ name: 'group', params: { selectedGroup: encodeURIComponent(group.id) } }\">\n\t\t\t\t\t<AppNavigationCounter v-if=\"group.count\" slot=\"counter\">\n\t\t\t\t\t\t{{ group.count }}\n\t\t\t\t\t</AppNavigationCounter>\n\t\t\t\t\t<template slot=\"actions\">\n\t\t\t\t\t\t<ActionButton\n\t\t\t\t\t\t\tv-if=\"!['admin', 'active', 'local', 'guest'].includes(group.id) && group.id !== 'disabled' && settings.isAdmin\"\n\t\t\t\t\t\t\ticon=\"icon-delete\"\n\t\t\t\t\t\t\t@click=\"removeGroup(group.id)\">\n\t\t\t\t\t\t\t{{ t('settings', 'Remove group') }}\n\t\t\t\t\t\t</ActionButton>\n\t\t\t\t\t</template>\n\t\t\t\t</AppNavigationItem>\n\t\t\t</ul>\n\t\t\t<AppNavigationSettings>\n\t\t\t\t<div>\n\t\t\t\t\t<p>{{ t('settings', 'Default quota:') }}</p>\n\t\t\t\t\t<Multiselect :value=\"defaultQuota\"\n\t\t\t\t\t\t:options=\"quotaOptions\"\n\t\t\t\t\t\ttag-placeholder=\"create\"\n\t\t\t\t\t\t:placeholder=\"t('settings', 'Select default quota')\"\n\t\t\t\t\t\tlabel=\"label\"\n\t\t\t\t\t\ttrack-by=\"id\"\n\t\t\t\t\t\t:allow-empty=\"false\"\n\t\t\t\t\t\t:taggable=\"true\"\n\t\t\t\t\t\t@tag=\"validateQuota\"\n\t\t\t\t\t\t@input=\"setDefaultQuota\" />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<input id=\"showLanguages\"\n\t\t\t\t\t\tv-model=\"showLanguages\"\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tclass=\"checkbox\">\n\t\t\t\t\t<label for=\"showLanguages\">{{ t('settings', 'Show Languages') }}</label>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<input id=\"showLastLogin\"\n\t\t\t\t\t\tv-model=\"showLastLogin\"\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tclass=\"checkbox\">\n\t\t\t\t\t<label for=\"showLastLogin\">{{ t('settings', 'Show last login') }}</label>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<input id=\"showUserBackend\"\n\t\t\t\t\t\tv-model=\"showUserBackend\"\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tclass=\"checkbox\">\n\t\t\t\t\t<label for=\"showUserBackend\">{{ t('settings', 'Show user backend') }}</label>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<input id=\"showStoragePath\"\n\t\t\t\t\t\tv-model=\"showStoragePath\"\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tclass=\"checkbox\">\n\t\t\t\t\t<label for=\"showStoragePath\">{{ t('settings', 'Show storage path') }}</label>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<input id=\"sendWelcomeMail\"\n\t\t\t\t\t\tv-model=\"sendWelcomeMail\"\n\t\t\t\t\t\t:disabled=\"loadingSendMail\"\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tclass=\"checkbox\">\n\t\t\t\t\t<label for=\"sendWelcomeMail\">{{ t('settings', 'Send email to new user') }}</label>\n\t\t\t\t</div>\n\t\t\t</AppNavigationSettings>\n\t\t</AppNavigation>\n\t\t<AppContent>\n\t\t\t<UserList #content\n\t\t\t\t:users=\"users\"\n\t\t\t\t:show-config=\"showConfig\"\n\t\t\t\t:selected-group=\"selectedGroupDecoded\"\n\t\t\t\t:external-actions=\"externalActions\" />\n\t\t</AppContent>\n\t</Content>\n</template>\n\n<script>\nimport ActionButton from '@nextcloud/vue/dist/Components/ActionButton'\nimport AppContent from '@nextcloud/vue/dist/Components/AppContent'\nimport AppNavigation from '@nextcloud/vue/dist/Components/AppNavigation'\nimport AppNavigationCaption from '@nextcloud/vue/dist/Components/AppNavigationCaption'\nimport AppNavigationCounter from '@nextcloud/vue/dist/Components/AppNavigationCounter'\nimport AppNavigationItem from '@nextcloud/vue/dist/Components/AppNavigationItem'\nimport AppNavigationNew from '@nextcloud/vue/dist/Components/AppNavigationNew'\nimport AppNavigationSettings from '@nextcloud/vue/dist/Components/AppNavigationSettings'\nimport axios from '@nextcloud/axios'\nimport Content from '@nextcloud/vue/dist/Components/Content'\nimport { generateUrl } from '@nextcloud/router'\nimport Multiselect from '@nextcloud/vue/dist/Components/Multiselect'\nimport Vue from 'vue'\nimport VueLocalStorage from 'vue-localstorage'\n\nimport UserList from '../components/UserList'\n\nVue.use(VueLocalStorage)\n\nexport default {\n\tname: 'Users',\n\tcomponents: {\n\t\tActionButton,\n\t\tAppContent,\n\t\tAppNavigation,\n\t\tAppNavigationCaption,\n\t\tAppNavigationCounter,\n\t\tAppNavigationItem,\n\t\tAppNavigationNew,\n\t\tAppNavigationSettings,\n\t\tContent,\n\t\tMultiselect,\n\t\tUserList,\n\t},\n\tprops: {\n\t\tselectedGroup: {\n\t\t\ttype: String,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\t// default quota is set to unlimited\n\t\t\tunlimitedQuota: { id: 'none', label: t('settings', 'Unlimited') },\n\t\t\t// temporary value used for multiselect change\n\t\t\tselectedQuota: false,\n\t\t\texternalActions: [],\n\t\t\tloadingAddGroup: false,\n\t\t\tloadingSendMail: false,\n\t\t\tshowConfig: {\n\t\t\t\tshowStoragePath: false,\n\t\t\t\tshowUserBackend: false,\n\t\t\t\tshowLastLogin: false,\n\t\t\t\tshowNewUserForm: false,\n\t\t\t\tshowLanguages: false,\n\t\t\t},\n\t\t}\n\t},\n\tcomputed: {\n\t\tselectedGroupDecoded() {\n\t\t\treturn this.selectedGroup ? decodeURIComponent(this.selectedGroup) : null\n\t\t},\n\t\tusers() {\n\t\t\treturn this.$store.getters.getUsers\n\t\t},\n\t\tgroups() {\n\t\t\treturn this.$store.getters.getGroups\n\t\t},\n\t\tusersOffset() {\n\t\t\treturn this.$store.getters.getUsersOffset\n\t\t},\n\t\tusersLimit() {\n\t\t\treturn this.$store.getters.getUsersLimit\n\t\t},\n\n\t\t// Local settings\n\t\tshowLanguages: {\n\t\t\tget: function() { return this.getLocalstorage('showLanguages') },\n\t\t\tset: function(status) {\n\t\t\t\tthis.setLocalStorage('showLanguages', status)\n\t\t\t},\n\t\t},\n\t\tshowLastLogin: {\n\t\t\tget: function() { return this.getLocalstorage('showLastLogin') },\n\t\t\tset: function(status) {\n\t\t\t\tthis.setLocalStorage('showLastLogin', status)\n\t\t\t},\n\t\t},\n\t\tshowUserBackend: {\n\t\t\tget: function() { return this.getLocalstorage('showUserBackend') },\n\t\t\tset: function(status) {\n\t\t\t\tthis.setLocalStorage('showUserBackend', status)\n\t\t\t},\n\t\t},\n\t\tshowStoragePath: {\n\t\t\tget: function() { return this.getLocalstorage('showStoragePath') },\n\t\t\tset: function(status) {\n\t\t\t\tthis.setLocalStorage('showStoragePath', status)\n\t\t\t},\n\t\t},\n\n\t\tuserCount() {\n\t\t\treturn this.$store.getters.getUserCount\n\t\t},\n\t\tsettings() {\n\t\t\treturn this.$store.getters.getServerData\n\t\t},\n\n\t\t// default quota\n\t\tquotaOptions() {\n\t\t\t// convert the preset array into objects\n\t\t\tconst quotaPreset = this.settings.quotaPreset.reduce((acc, cur) => acc.concat({ id: cur, label: cur }), [])\n\t\t\t// add default presets\n\t\t\tquotaPreset.unshift(this.unlimitedQuota)\n\t\t\treturn quotaPreset\n\t\t},\n\t\t// mapping saved values to objects\n\t\tdefaultQuota: {\n\t\t\tget: function() {\n\t\t\t\tif (this.selectedQuota !== false) {\n\t\t\t\t\treturn this.selectedQuota\n\t\t\t\t}\n\t\t\t\tif (this.settings.defaultQuota !== this.unlimitedQuota.id && OC.Util.computerFileSize(this.settings.defaultQuota) >= 0) {\n\t\t\t\t\t// if value is valid, let's map the quotaOptions or return custom quota\n\t\t\t\t\treturn { id: this.settings.defaultQuota, label: this.settings.defaultQuota }\n\t\t\t\t}\n\t\t\t\treturn this.unlimitedQuota // unlimited\n\t\t\t},\n\t\t\tset: function(quota) {\n\t\t\t\tthis.selectedQuota = quota\n\t\t\t},\n\n\t\t},\n\n\t\tsendWelcomeMail: {\n\t\t\tget() {\n\t\t\t\treturn this.settings.newUserSendEmail\n\t\t\t},\n\t\t\tasync set(value) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.loadingSendMail = true\n\t\t\t\t\tthis.$store.commit('setServerData', {\n\t\t\t\t\t\t...this.settings,\n\t\t\t\t\t\tnewUserSendEmail: value,\n\t\t\t\t\t})\n\t\t\t\t\tawait axios.post(generateUrl(`/settings/users/preferences/newUser.sendEmail`), { value: value ? 'yes' : 'no' })\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error('could not update newUser.sendEmail preference: ' + e.message, e)\n\t\t\t\t} finally {\n\t\t\t\t\tthis.loadingSendMail = false\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\n\t\tgroupList() {\n\t\t\tconst groups = Array.isArray(this.groups) ? this.groups : []\n\n\t\t\treturn groups\n\t\t\t\t// filter out disabled and admin\n\t\t\t\t.filter(group => group.id !== 'disabled' && group.id !== 'admin')\n\t\t\t\t.map(group => this.formatGroupMenu(group))\n\t\t},\n\n\t\tadminGroupMenu() {\n\t\t\treturn this.formatGroupMenu(this.groups.find(group => group.id === 'admin'))\n\t\t},\n\t\tdisabledGroupMenu() {\n\t\t\treturn this.formatGroupMenu(this.groups.find(group => group.id === 'disabled'))\n\t\t},\n\t},\n\tbeforeMount() {\n\t\tthis.$store.commit('initGroups', {\n\t\t\tgroups: this.$store.getters.getServerData.groups,\n\t\t\torderBy: this.$store.getters.getServerData.sortGroups,\n\t\t\tuserCount: this.$store.getters.getServerData.userCount,\n\t\t})\n\t\tthis.$store.dispatch('getPasswordPolicyMinLength')\n\t},\n\tcreated() {\n\t\t// init the OCA.Settings.UserList object\n\t\t// and add the registerAction method\n\t\tObject.assign(OCA, {\n\t\t\tSettings: {\n\t\t\t\tUserList: {\n\t\t\t\t\tregisterAction: this.registerAction,\n\t\t\t\t},\n\t\t\t},\n\t\t})\n\t},\n\tmethods: {\n\t\ttoggleNewUserMenu() {\n\t\t\tthis.showConfig.showNewUserForm = !this.showConfig.showNewUserForm\n\t\t\tif (this.showConfig.showNewUserForm) {\n\t\t\t\tVue.nextTick(() => {\n\t\t\t\t\twindow.newusername.focus()\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tgetLocalstorage(key) {\n\t\t\t// force initialization\n\t\t\tconst localConfig = this.$localStorage.get(key)\n\t\t\t// if localstorage is null, fallback to original values\n\t\t\tthis.showConfig[key] = localConfig !== null ? localConfig === 'true' : this.showConfig[key]\n\t\t\treturn this.showConfig[key]\n\t\t},\n\t\tsetLocalStorage(key, status) {\n\t\t\tthis.showConfig[key] = status\n\t\t\tthis.$localStorage.set(key, status)\n\t\t\treturn status\n\t\t},\n\t\tremoveGroup(groupid) {\n\t\t\tconst self = this\n\t\t\t// TODO migrate to a vue js confirm dialog component\n\t\t\tOC.dialogs.confirm(\n\t\t\t\tt('settings', 'You are about to remove the group {group}. The users will NOT be deleted.', { group: groupid }),\n\t\t\t\tt('settings', 'Please confirm the group removal '),\n\t\t\t\tfunction(success) {\n\t\t\t\t\tif (success) {\n\t\t\t\t\t\tself.$store.dispatch('removeGroup', groupid)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t},\n\n\t\t/**\n\t\t * Dispatch default quota set request\n\t\t *\n\t\t * @param {string|Object} quota Quota in readable format '5 GB' or Object {id: '5 GB', label: '5GB'}\n\t\t */\n\t\tsetDefaultQuota(quota = 'none') {\n\t\t\tthis.$store.dispatch('setAppConfig', {\n\t\t\t\tapp: 'files',\n\t\t\t\tkey: 'default_quota',\n\t\t\t\t// ensure we only send the preset id\n\t\t\t\tvalue: quota.id ? quota.id : quota,\n\t\t\t}).then(() => {\n\t\t\t\tif (typeof quota !== 'object') {\n\t\t\t\t\tquota = { id: quota, label: quota }\n\t\t\t\t}\n\t\t\t\tthis.defaultQuota = quota\n\t\t\t})\n\t\t},\n\n\t\t/**\n\t\t * Validate quota string to make sure it's a valid human file size\n\t\t *\n\t\t * @param {string} quota Quota in readable format '5 GB'\n\t\t * @returns {Promise|boolean}\n\t\t */\n\t\tvalidateQuota(quota) {\n\t\t\t// only used for new presets sent through @Tag\n\t\t\tconst validQuota = OC.Util.computerFileSize(quota)\n\t\t\tif (validQuota === null) {\n\t\t\t\treturn this.setDefaultQuota('none')\n\t\t\t} else {\n\t\t\t\t// unify format output\n\t\t\t\treturn this.setDefaultQuota(OC.Util.humanFileSize(OC.Util.computerFileSize(quota)))\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Register a new action for the user menu\n\t\t *\n\t\t * @param {string} icon the icon class\n\t\t * @param {string} text the text to display\n\t\t * @param {Function} action the function to run\n\t\t * @returns {Array}\n\t\t */\n\t\tregisterAction(icon, text, action) {\n\t\t\tthis.externalActions.push({\n\t\t\t\ticon: icon,\n\t\t\t\ttext: text,\n\t\t\t\taction: action,\n\t\t\t})\n\t\t\treturn this.externalActions\n\t\t},\n\n\t\t/**\n\t\t * Create a new group\n\t\t *\n\t\t * @param {string} gid The group id\n\t\t */\n\t\tasync createGroup(gid) {\n\t\t\t// group is not valid\n\t\t\tif (gid.trim() === '') {\n\t\t\t\tVue.nextTick(() => {\n\t\t\t\t\tthis.toggleAddGroupEntry(true)\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tthis.loadingAddGroup = true\n\t\t\t\tawait this.$store.dispatch('addGroup', gid.trim())\n\n\t\t\t\tthis.toggleAddGroupEntry(false)\n\t\t\t\tthis.$router.push({\n\t\t\t\t\tname: 'group',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tselectedGroup: encodeURIComponent(gid.trim()),\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t} catch {\n\t\t\t\tthis.toggleAddGroupEntry(true)\n\t\t\t} finally {\n\t\t\t\tthis.loadingAddGroup = false\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Toggle the add group entry editing state\n\t\t * @param {boolean} [state] set state instead of toggling\n\t\t */\n\t\ttoggleAddGroupEntry(state) {\n\t\t\tif (state === undefined) {\n\t\t\t\tstate = !this.$refs.addGroup.editing\n\t\t\t}\n\t\t\tthis.$refs.addGroup.editing = state\n\n\t\t\t// focus input\n\t\t\tVue.nextTick(() => {\n\t\t\t\tif (this.$refs.addGroup.$el) {\n\t\t\t\t\tconst input = this.$refs.addGroup.$el.querySelector('form > input[type=\"text\"]')\n\t\t\t\t\tif (input) {\n\t\t\t\t\t\tinput.focus()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t/**\n\t\t * Format a group to a menu entry\n\t\t * @param {Object} group the group\n\t\t * @returns {Object}\n\t\t */\n\t\tformatGroupMenu(group) {\n\t\t\tconst item = {}\n\t\t\tif (typeof group === 'undefined') {\n\t\t\t\treturn {}\n\t\t\t}\n\n\t\t\titem.id = group.id\n\t\t\titem.title = group.name\n\t\t\titem.usercount = group.usercount\n\n\t\t\t// users count for all groups\n\t\t\tif (group.usercount - group.disabled > 0) {\n\t\t\t\titem.count = group.usercount - group.disabled\n\t\t\t}\n\n\t\t\treturn item\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n// force hiding the editing action for the add group entry\n#usergrouplist #addgroup::v-deep .app-navigation-entry__utils {\n\tdisplay: none;\n}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=7f2af754&scoped=true&\"\nimport script from \"./Users.vue?vue&type=script&lang=js&\"\nexport * from \"./Users.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Users.vue?vue&type=style&index=0&id=7f2af754&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f2af754\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}